import{S as Wt,i as Gt,s as Zt,e as Fe,n as Xe,d as S,a as qe,r as Ee,b as T,c as nt,f as k,g as n,l as se,h as u,j as g,t as h,k as c,m as ee,o,p as Nt,q as Lt,u as Yn,v as mt,w as _t,x as Qn,y as Kn,z as Xn,A as $n,B as kt,C as wt,D as Pt,E as xn,F as ea,G as Bt,H as ta,I as Jt,J as ht}from"./app-Ba0dBrjv.js";function Qt(e,t,l){const a=e.slice();return a[6]=t[l],a}function Kt(e){let t,l=e[6].label+"",a,s;return{c(){t=u("a"),a=h(l),c(t,"class","link"),c(t,"href",s=e[6].href)},m(i,r){k(i,t,r),n(t,a)},p(i,r){r&4&&l!==(l=i[6].label+"")&&T(a,l),r&4&&s!==(s=i[6].href)&&c(t,"href",s)},d(i){i&&S(t)}}}function la(e){let t,l,a,s,i,r,d,f,p,v,m,_,P,D,C,A,F,w=Fe(e[2]),b=[];for(let N=0;N<w.length;N+=1)b[N]=Kt(Qt(e,w,N));return{c(){t=u("header"),l=u("div"),a=u("div"),a.textContent="üì†",s=g(),i=u("div"),r=u("div"),d=h(e[1]),f=g(),p=u("div"),p.textContent="Scan Hub",v=g(),m=u("nav");for(let N=0;N<b.length;N+=1)b[N].c();_=g(),P=u("select"),D=u("option"),D.textContent="üá¨üáß EN",C=u("option"),C.textContent="üá©üá™ DE",c(a,"class","logo"),c(r,"class","brand-name"),c(p,"class","brand-sub"),c(l,"class","brand"),D.__value="en",ee(D,D.__value),o(D,"background","#1a1a2e"),o(D,"color","white"),C.__value="de",ee(C,C.__value),o(C,"background","#1a1a2e"),o(C,"color","white"),o(P,"margin-left","1rem"),o(P,"padding","0.4rem 0.75rem"),o(P,"background","rgba(255, 255, 255, 0.1)"),o(P,"border","1px solid rgba(255, 255, 255, 0.2)"),o(P,"border-radius","6px"),o(P,"color","white"),o(P,"font-size","0.875rem"),o(P,"cursor","pointer"),o(P,"backdrop-filter","blur(10px)"),e[0]===void 0&&Nt(()=>e[4].call(P)),c(m,"class","links"),c(t,"class","topbar")},m(N,H){k(N,t,H),n(t,l),n(l,a),n(l,s),n(l,i),n(i,r),n(r,d),n(i,f),n(i,p),n(t,v),n(t,m);for(let j=0;j<b.length;j+=1)b[j]&&b[j].m(m,null);n(m,_),n(m,P),n(P,D),n(P,C),nt(P,e[0],!0),A||(F=[se(P,"change",e[4]),se(P,"change",e[5])],A=!0)},p(N,[H]){if(H&2&&T(d,N[1]),H&4){w=Fe(N[2]);let j;for(j=0;j<w.length;j+=1){const Z=Qt(N,w,j);b[j]?b[j].p(Z,H):(b[j]=Kt(Z),b[j].c(),b[j].m(m,_))}for(;j<b.length;j+=1)b[j].d(1);b.length=w.length}H&1&&nt(P,N[0])},i:Xe,o:Xe,d(N){N&&S(t),qe(b,N),A=!1,Ee(F)}}}function na(e,t,l){let{brand:a="Scan2Target"}=t,{links:s=[]}=t,{currentLang:i="en"}=t,{onLanguageChange:r=()=>{}}=t;function d(){i=Lt(this),l(0,i)}const f=p=>r(p.target.value);return e.$$set=p=>{"brand"in p&&l(1,a=p.brand),"links"in p&&l(2,s=p.links),"currentLang"in p&&l(0,i=p.currentLang),"onLanguageChange"in p&&l(3,r=p.onLanguageChange)},[i,a,s,r,d,f]}class aa extends Wt{constructor(t){super(),Gt(this,t,na,la,Zt,{brand:1,links:2,currentLang:0,onLanguageChange:3})}}function Xt(e,t,l){const a=e.slice();return a[6]=t[l],a}function $t(e){let t,l;return{c(){t=u("p"),l=h(e[2]),c(t,"class","muted")},m(a,s){k(a,t,s),n(t,l)},p(a,s){s&4&&T(l,a[2])},d(a){a&&S(t)}}}function xt(e){let t,l=e[6].label+"",a,s,i;return{c(){t=u("button"),a=h(l),c(t,"class","ghost")},m(r,d){k(r,t,d),n(t,a),s||(i=se(t,"click",function(){$n(e[6].onClick)&&e[6].onClick.apply(this,arguments)}),s=!0)},p(r,d){e=r,d&8&&l!==(l=e[6].label+"")&&T(a,l)},d(r){r&&S(t),s=!1,i()}}}function ia(e){let t,l,a,s,i,r,d,f,p,v,m,_=e[2]&&$t(e),P=Fe(e[3]),D=[];for(let F=0;F<P.length;F+=1)D[F]=xt(Xt(e,P,F));const C=e[5].default,A=Yn(C,e,e[4],null);return{c(){t=u("section"),l=u("div"),a=u("div"),s=u("h2"),i=h(e[1]),r=g(),_&&_.c(),d=g(),f=u("div");for(let F=0;F<D.length;F+=1)D[F].c();p=g(),v=u("div"),A&&A.c(),c(f,"class","section-actions"),c(l,"class","section-heading"),c(v,"class","section-body"),c(t,"class","section-card"),c(t,"id",e[0])},m(F,w){k(F,t,w),n(t,l),n(l,a),n(a,s),n(s,i),n(a,r),_&&_.m(a,null),n(l,d),n(l,f);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(f,null);n(t,p),n(t,v),A&&A.m(v,null),m=!0},p(F,[w]){if((!m||w&2)&&T(i,F[1]),F[2]?_?_.p(F,w):(_=$t(F),_.c(),_.m(a,null)):_&&(_.d(1),_=null),w&8){P=Fe(F[3]);let b;for(b=0;b<P.length;b+=1){const N=Xt(F,P,b);D[b]?D[b].p(N,w):(D[b]=xt(N),D[b].c(),D[b].m(f,null))}for(;b<D.length;b+=1)D[b].d(1);D.length=P.length}A&&A.p&&(!m||w&16)&&Qn(A,C,F,F[4],m?Xn(C,F[4],w,null):Kn(F[4]),null),(!m||w&1)&&c(t,"id",F[0])},i(F){m||(_t(A,F),m=!0)},o(F){mt(A,F),m=!1},d(F){F&&S(t),_&&_.d(),qe(D,F),A&&A.d(F)}}}function sa(e,t,l){let{$$slots:a={},$$scope:s}=t,{id:i=""}=t,{title:r}=t,{subtitle:d=""}=t,{actions:f=[]}=t;return e.$$set=p=>{"id"in p&&l(0,i=p.id),"title"in p&&l(1,r=p.title),"subtitle"in p&&l(2,d=p.subtitle),"actions"in p&&l(3,f=p.actions),"$$scope"in p&&l(4,s=p.$$scope)},[i,r,d,f,s,a]}class Rt extends Wt{constructor(t){super(),Gt(this,t,sa,ia,Zt,{id:0,title:1,subtitle:2,actions:3})}}function el(e,t,l){const a=e.slice();return a[1]=t[l],a}function tl(e){let t,l=e[1].sub+"",a;return{c(){t=u("div"),a=h(l),c(t,"class","stat-sub")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i&1&&l!==(l=s[1].sub+"")&&T(a,l)},d(s){s&&S(t)}}}function ll(e){let t,l,a=e[1].icon+"",s,i,r,d=e[1].label+"",f,p,v,m=e[1].value+"",_,P,D,C=e[1].sub&&tl(e);return{c(){t=u("div"),l=u("div"),s=h(a),i=g(),r=u("div"),f=h(d),p=g(),v=u("div"),_=h(m),P=g(),C&&C.c(),D=g(),c(l,"class","stat-icon"),c(r,"class","stat-label"),c(v,"class","stat-value"),c(t,"class","stat-card")},m(A,F){k(A,t,F),n(t,l),n(l,s),n(t,i),n(t,r),n(r,f),n(t,p),n(t,v),n(v,_),n(t,P),C&&C.m(t,null),n(t,D)},p(A,F){F&1&&a!==(a=A[1].icon+"")&&T(s,a),F&1&&d!==(d=A[1].label+"")&&T(f,d),F&1&&m!==(m=A[1].value+"")&&T(_,m),A[1].sub?C?C.p(A,F):(C=tl(A),C.c(),C.m(t,D)):C&&(C.d(1),C=null)},d(A){A&&S(t),C&&C.d()}}}function oa(e){let t,l=Fe(e[0]),a=[];for(let s=0;s<l.length;s+=1)a[s]=ll(el(e,l,s));return{c(){t=u("div");for(let s=0;s<a.length;s+=1)a[s].c();c(t,"class","stat-grid")},m(s,i){k(s,t,i);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null)},p(s,[i]){if(i&1){l=Fe(s[0]);let r;for(r=0;r<l.length;r+=1){const d=el(s,l,r);a[r]?a[r].p(d,i):(a[r]=ll(d),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=l.length}},i:Xe,o:Xe,d(s){s&&S(t),qe(a,s)}}}function ra(e,t,l){let{cards:a=[]}=t;return e.$$set=s=>{"cards"in s&&l(0,a=s.cards)},[a]}class ua extends Wt{constructor(t){super(),Gt(this,t,ra,oa,Zt,{cards:0})}}function nl(e,t,l){const a=e.slice();return a[161]=t[l],a}function al(e,t,l){const a=e.slice();a[165]=t[l];const s=a[165].count>0?Math.round(a[165].count/a[164]*140):0;return a[166]=s,a}function qt(e){const t=e.slice(),l=Math.max(...t[47].map(a=>a.count),1);return t[164]=l,t}function il(e,t,l){const a=e.slice();return a[169]=t[l],a}function sl(e,t,l){const a=e.slice();return a[172]=t[l],a}function ol(e,t,l){const a=e.slice();return a[175]=t[l],a}function rl(e,t,l){const a=e.slice();return a[169]=t[l],a}function ul(e,t,l){const a=e.slice();return a[161]=t[l],a}function cl(e,t,l){const a=e.slice();return a[182]=t[l],a}function fl(e,t,l){const a=e.slice();return a[169]=t[l],a}function dl(e,t,l){const a=e.slice();return a[187]=t[l],a}function pl(e,t,l){const a=e.slice();return a[172]=t[l],a}function ml(e,t,l){const a=e.slice();return a[187]=t[l],a}function _l(e,t,l){const a=e.slice();return a[194]=t[l],a}function hl(e,t,l){const a=e.slice();return a[172]=t[l],a}function gl(e){let t,l=(e[10]?e[3].pleaseSelectTarget:e[3].pleaseSelectScanner)+"",a;return{c(){t=u("p"),a=h(l),c(t,"class","muted"),o(t,"margin-top","0.5rem"),o(t,"font-size","0.875rem")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&1032&&l!==(l=(s[10]?s[3].pleaseSelectTarget:s[3].pleaseSelectScanner)+"")&&T(a,l)},d(s){s&&S(t)}}}function ca(e){let t,l=Fe(e[4]),a=[];for(let s=0;s<l.length;s+=1)a[s]=Sl(hl(e,l,s));return{c(){t=u("ul");for(let s=0;s<a.length;s+=1)a[s].c();c(t,"class","list")},m(s,i){k(s,t,i);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null)},p(s,i){if(i[0]&16|i[2]&8224){l=Fe(s[4]);let r;for(r=0;r<l.length;r+=1){const d=hl(s,l,r);a[r]?a[r].p(d,i):(a[r]=Sl(d),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=l.length}},d(s){s&&S(t),qe(a,s)}}}function fa(e){let t;return{c(){t=u("p"),t.textContent='No scanners configured. Click "Discover Scanners" below to add.',c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function da(e){let t;return{c(){t=u("p"),t.textContent="‚è≥ Loading scanners...",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function vl(e){let t;return{c(){t=h("‚≠ê ")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function bl(e){let t;return{c(){t=u("span"),t.textContent="‚≠ê Recommended",c(t,"class","badge success"),o(t,"margin-left","0.5rem"),o(t,"font-size","0.7rem")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function Sl(e){let t,l,a,s=e[172].name+"",i,r,d=e[172].connection_type&&e[172].connection_type.includes("eSCL"),f,p,v=(e[172].connection_type||e[172].type||"Unknown")+"",m,_,P,D=(e[172].status||"unknown")+"",C,A,F,w,b,N=e[172].is_favorite?"‚≠ê":"‚òÜ",H,j,Z,B,z,U,O,E=e[172].is_favorite&&vl(),R=d&&bl();function G(){return e[80](e[172])}function W(){return e[81](e[172])}return{c(){t=u("li"),l=u("div"),a=u("div"),E&&E.c(),i=h(s),r=g(),R&&R.c(),f=g(),p=u("div"),m=h(v),_=g(),P=u("span"),C=h(D),F=g(),w=u("div"),b=u("button"),H=h(N),Z=g(),B=u("button"),B.textContent="Remove",z=g(),c(a,"class","list-title"),c(p,"class","muted"),c(P,"class",A="badge "+(e[172].status==="online"?"success":"warning")),o(l,"flex","1"),c(b,"class","ghost small"),c(b,"title",j=(e[172].is_favorite?"Remove from":"Add to")+" favorites"),c(B,"class","ghost small"),o(w,"display","flex"),o(w,"gap","0.5rem"),o(t,"display","flex"),o(t,"align-items","center"),o(t,"justify-content","space-between")},m(M,y){k(M,t,y),n(t,l),n(l,a),E&&E.m(a,null),n(a,i),n(a,r),R&&R.m(a,null),n(l,f),n(l,p),n(p,m),n(l,_),n(l,P),n(P,C),n(t,F),n(t,w),n(w,b),n(b,H),n(w,Z),n(w,B),n(t,z),U||(O=[se(b,"click",G),se(B,"click",W)],U=!0)},p(M,y){e=M,e[172].is_favorite?E||(E=vl(),E.c(),E.m(a,i)):E&&(E.d(1),E=null),y[0]&16&&s!==(s=e[172].name+"")&&T(i,s),y[0]&16&&(d=e[172].connection_type&&e[172].connection_type.includes("eSCL")),d?R||(R=bl(),R.c(),R.m(a,null)):R&&(R.d(1),R=null),y[0]&16&&v!==(v=(e[172].connection_type||e[172].type||"Unknown")+"")&&T(m,v),y[0]&16&&D!==(D=(e[172].status||"unknown")+"")&&T(C,D),y[0]&16&&A!==(A="badge "+(e[172].status==="online"?"success":"warning"))&&c(P,"class",A),y[0]&16&&N!==(N=e[172].is_favorite?"‚≠ê":"‚òÜ")&&T(H,N),y[0]&16&&j!==(j=(e[172].is_favorite?"Remove from":"Add to")+" favorites")&&c(b,"title",j)},d(M){M&&S(t),E&&E.d(),R&&R.d(),U=!1,Ee(O)}}}function kl(e){let t,l=e[3].lastScan+"",a,s,i=e[38].toLocaleTimeString()+"",r,d,f=e[3].clickRefresh+"",p;return{c(){t=u("p"),a=h(l),s=h(": "),r=h(i),d=h(" ¬∑ "),p=h(f),c(t,"class","muted small"),o(t,"margin-top","0.5rem")},m(v,m){k(v,t,m),n(t,a),n(t,s),n(t,r),n(t,d),n(t,p)},p(v,m){m[0]&8&&l!==(l=v[3].lastScan+"")&&T(a,l),m[1]&128&&i!==(i=v[38].toLocaleTimeString()+"")&&T(r,i),m[0]&8&&f!==(f=v[3].clickRefresh+"")&&T(p,f)},d(v){v&&S(t)}}}function wl(e){let t,l,a=e[3].manualScannerTitle+"",s,i,r,d,f=e[3].scannerIP+"",p,v,m,_,P,D,C=e[3].scannerPort+"",A,F,w,b,N,H,j=e[3].scannerNameOptional+"",Z,B,z,U,O,E,R=e[3].addManual+"",G,W,M;return{c(){t=u("div"),l=u("div"),s=h(a),i=g(),r=u("div"),d=u("label"),p=h(f),v=g(),m=u("input"),P=g(),D=u("label"),A=h(C),F=g(),w=u("input"),N=g(),H=u("label"),Z=h(j),B=g(),z=u("input"),O=g(),E=u("button"),G=h(R),c(l,"class","panel-header"),c(d,"for","manual-scanner-ip"),c(m,"id","manual-scanner-ip"),c(m,"type","text"),c(m,"placeholder",_=e[3].scannerIPPlaceholder),o(m,"width","100%"),o(m,"padding","8px 12px"),o(m,"background","var(--surface)"),o(m,"border","1px solid var(--border)"),o(m,"border-radius","6px"),o(m,"color","var(--text)"),o(m,"font-size","14px"),c(D,"for","manual-scanner-port"),c(w,"id","manual-scanner-port"),c(w,"type","text"),c(w,"placeholder",b=e[3].scannerPortPlaceholder),o(w,"width","100%"),o(w,"padding","8px 12px"),o(w,"background","var(--surface)"),o(w,"border","1px solid var(--border)"),o(w,"border-radius","6px"),o(w,"color","var(--text)"),o(w,"font-size","14px"),c(H,"for","manual-scanner-name"),c(z,"id","manual-scanner-name"),c(z,"type","text"),c(z,"placeholder",U=e[3].scannerNamePlaceholder),o(z,"width","100%"),o(z,"padding","8px 12px"),o(z,"background","var(--surface)"),o(z,"border","1px solid var(--border)"),o(z,"border-radius","6px"),o(z,"color","var(--text)"),o(z,"font-size","14px"),c(E,"class","primary block"),o(E,"margin-top","0.5rem"),c(r,"class","panel-body"),c(t,"class","panel"),o(t,"margin-top","1rem")},m(y,le){k(y,t,le),n(t,l),n(l,s),n(t,i),n(t,r),n(r,d),n(d,p),n(r,v),n(r,m),ee(m,e[40]),n(r,P),n(r,D),n(D,A),n(r,F),n(r,w),ee(w,e[42]),n(r,N),n(r,H),n(H,Z),n(r,B),n(r,z),ee(z,e[41]),n(r,O),n(r,E),n(E,G),W||(M=[se(m,"input",e[83]),se(w,"input",e[84]),se(z,"input",e[85]),se(E,"click",e[78])],W=!0)},p(y,le){le[0]&8&&a!==(a=y[3].manualScannerTitle+"")&&T(s,a),le[0]&8&&f!==(f=y[3].scannerIP+"")&&T(p,f),le[0]&8&&_!==(_=y[3].scannerIPPlaceholder)&&c(m,"placeholder",_),le[1]&512&&m.value!==y[40]&&ee(m,y[40]),le[0]&8&&C!==(C=y[3].scannerPort+"")&&T(A,C),le[0]&8&&b!==(b=y[3].scannerPortPlaceholder)&&c(w,"placeholder",b),le[1]&2048&&w.value!==y[42]&&ee(w,y[42]),le[0]&8&&j!==(j=y[3].scannerNameOptional+"")&&T(Z,j),le[0]&8&&U!==(U=y[3].scannerNamePlaceholder)&&c(z,"placeholder",U),le[1]&1024&&z.value!==y[41]&&ee(z,y[41]),le[0]&8&&R!==(R=y[3].addManual+"")&&T(G,R)},d(y){y&&S(t),W=!1,Ee(M)}}}function pa(e){let t,l=e[3].noScannersFound+"",a;return{c(){t=u("p"),a=h(l),c(t,"class","muted small mt")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&8&&l!==(l=s[3].noScannersFound+"")&&T(a,l)},d(s){s&&S(t)}}}function ma(e){let t,l=e[3].discoveredScanners+"",a,s,i=e[36].length+"",r,d,f,p,v=Fe(e[36]),m=[];for(let _=0;_<v.length;_+=1)m[_]=Cl(_l(e,v,_));return{c(){t=u("h4"),a=h(l),s=h(" ("),r=h(i),d=h(")"),f=g(),p=u("ul");for(let _=0;_<m.length;_+=1)m[_].c();c(t,"class","mt"),c(p,"class","list")},m(_,P){k(_,t,P),n(t,a),n(t,s),n(t,r),n(t,d),k(_,f,P),k(_,p,P);for(let D=0;D<m.length;D+=1)m[D]&&m[D].m(p,null)},p(_,P){if(P[0]&8&&l!==(l=_[3].discoveredScanners+"")&&T(a,l),P[1]&32&&i!==(i=_[36].length+"")&&T(r,i),P[0]&8|P[1]&32|P[2]&32768){v=Fe(_[36]);let D;for(D=0;D<v.length;D+=1){const C=_l(_,v,D);m[D]?m[D].p(C,P):(m[D]=Cl(C),m[D].c(),m[D].m(p,null))}for(;D<m.length;D+=1)m[D].d(1);m.length=v.length}},d(_){_&&(S(t),S(f),S(p)),qe(m,_)}}}function Pl(e){let t,l=e[194].make+"",a,s,i=e[194].model+"",r;return{c(){t=u("span"),a=h(l),s=g(),r=h(i),o(t,"font-weight","500")},m(d,f){k(d,t,f),n(t,a),k(d,s,f),k(d,r,f)},p(d,f){f[1]&32&&l!==(l=d[194].make+"")&&T(a,l),f[1]&32&&i!==(i=d[194].model+"")&&T(r,i)},d(d){d&&(S(t),S(s),S(r))}}}function _a(e){let t;return{c(){t=h("üì°")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function ha(e){let t;return{c(){t=h("üîå")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function ga(e){let t;return{c(){t=h("üåê")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function Tl(e){let t,l=e[3].recommended+"",a;return{c(){t=u("span"),a=h(l),c(t,"class","badge success"),o(t,"margin-left","0.5rem")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&8&&l!==(l=s[3].recommended+"")&&T(a,l)},d(s){s&&S(t)}}}function va(e){let t,l=e[3].notAddedYet+"",a;return{c(){t=u("span"),a=h(l),c(t,"class","badge warning"),o(t,"margin-left","0.5rem")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&8&&l!==(l=s[3].notAddedYet+"")&&T(a,l)},d(s){s&&S(t)}}}function ba(e){let t,l=e[3].alreadyAdded+"",a;return{c(){t=u("span"),a=h(l),c(t,"class","badge success"),o(t,"margin-left","0.5rem")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&8&&l!==(l=s[3].alreadyAdded+"")&&T(a,l)},d(s){s&&S(t)}}}function Dl(e){let t,l,a,s,i=e[194].uri.match(/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})/)[1]+"",r;return{c(){t=u("br"),l=g(),a=u("span"),s=h("üìç "),r=h(i),o(a,"font-family","monospace"),o(a,"font-size","0.85rem"),o(a,"opacity","0.8"),o(a,"margin-top","0.25rem")},m(d,f){k(d,t,f),k(d,l,f),k(d,a,f),n(a,s),n(a,r)},p(d,f){f[1]&32&&i!==(i=d[194].uri.match(/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})/)[1]+"")&&T(r,i)},d(d){d&&(S(t),S(l),S(a))}}}function Sa(e){let t,l=e[3].alreadyAdded+"",a;return{c(){t=u("button"),a=h(l),c(t,"class","ghost small"),t.disabled=!0},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&8&&l!==(l=s[3].alreadyAdded+"")&&T(a,l)},d(s){s&&S(t)}}}function ka(e){let t,l=e[3].addScanner+"",a,s,i;function r(){return e[86](e[194])}return{c(){t=u("button"),a=h(l),c(t,"class","primary small")},m(d,f){k(d,t,f),n(t,a),s||(i=se(t,"click",r),s=!0)},p(d,f){e=d,f[0]&8&&l!==(l=e[3].addScanner+"")&&T(a,l)},d(d){d&&S(t),s=!1,i()}}}function Cl(e){let t,l,a=e[194].name+"",s,i,r,d,f,p,v,m,_,P,D=(e[194].connection_type||e[194].type)+"",C,A,F=e[194].connection_type&&e[194].connection_type.includes("eSCL"),w,b,N=e[194].uri&&e[194].uri.match(/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})/),H,j,Z=e[194].make&&e[194].model&&Pl(e);function B(Y,K){return K[1]&32&&(m=null),K[1]&32&&(_=null),m==null&&(m=!!(Y[194].connection_type&&Y[194].connection_type.includes("Network"))),m?ga:(_==null&&(_=!!(Y[194].connection_type&&Y[194].connection_type.includes("USB"))),_?ha:_a)}let z=B(e,[-1,-1,-1,-1,-1,-1,-1]),U=z(e),O=F&&Tl(e);function E(Y,K){return Y[194].already_added?ba:va}let R=E(e),G=R(e),W=N&&Dl(e);function M(Y,K){return Y[194].already_added?Sa:ka}let y=M(e),le=y(e);return{c(){t=u("li"),l=u("div"),s=h(a),i=g(),r=u("div"),Z&&Z.c(),d=g(),f=u("br"),p=g(),v=u("span"),U.c(),P=g(),C=h(D),A=g(),O&&O.c(),w=g(),G.c(),b=g(),W&&W.c(),H=g(),le.c(),j=g(),c(l,"class","list-title"),o(v,"display","inline-flex"),o(v,"align-items","center"),o(v,"gap","0.25rem"),o(v,"margin-top","0.25rem"),c(r,"class","muted"),o(r,"margin-bottom","0.5rem")},m(Y,K){k(Y,t,K),n(t,l),n(l,s),n(t,i),n(t,r),Z&&Z.m(r,null),n(r,d),n(r,f),n(r,p),n(r,v),U.m(v,null),n(v,P),n(v,C),n(r,A),O&&O.m(r,null),n(r,w),G.m(r,null),n(r,b),W&&W.m(r,null),n(t,H),le.m(t,null),n(t,j)},p(Y,K){K[1]&32&&a!==(a=Y[194].name+"")&&T(s,a),Y[194].make&&Y[194].model?Z?Z.p(Y,K):(Z=Pl(Y),Z.c(),Z.m(r,d)):Z&&(Z.d(1),Z=null),z!==(z=B(Y,K))&&(U.d(1),U=z(Y),U&&(U.c(),U.m(v,P))),K[1]&32&&D!==(D=(Y[194].connection_type||Y[194].type)+"")&&T(C,D),K[1]&32&&(F=Y[194].connection_type&&Y[194].connection_type.includes("eSCL")),F?O?O.p(Y,K):(O=Tl(Y),O.c(),O.m(r,w)):O&&(O.d(1),O=null),R===(R=E(Y))&&G?G.p(Y,K):(G.d(1),G=R(Y),G&&(G.c(),G.m(r,b))),K[1]&32&&(N=Y[194].uri&&Y[194].uri.match(/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})/)),N?W?W.p(Y,K):(W=Dl(Y),W.c(),W.m(r,null)):W&&(W.d(1),W=null),y===(y=M(Y))&&le?le.p(Y,K):(le.d(1),le=y(Y),le&&(le.c(),le.m(t,j)))},d(Y){Y&&S(t),Z&&Z.d(),U.d(),O&&O.d(),G.d(),W&&W.d(),le.d()}}}function Al(e){let t,l=e[187].source==="ADF"?"üìö":"üìÑ",a,s,i=e[187].name+"",r,d,f;return{c(){t=u("div"),a=h(l),s=g(),r=h(i),d=g(),c(t,"class","chip"),c(t,"title",f=e[187].description||e[187].name)},m(p,v){k(p,t,v),n(t,a),n(t,s),n(t,r),n(t,d)},p(p,v){v[0]&4&&l!==(l=p[187].source==="ADF"?"üìö":"üìÑ")&&T(a,l),v[0]&4&&i!==(i=p[187].name+"")&&T(r,i),v[0]&4&&f!==(f=p[187].description||p[187].name)&&c(t,"title",f)},d(p){p&&S(t)}}}function Fl(e){let t;return{c(){t=h("‚≠ê ")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function Ll(e){let t;return{c(){t=h("(Recommended)")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function Nl(e){let t,l=e[172].name+"",a,s,i=e[172].connection_type&&e[172].connection_type.includes("eSCL"),r,d,f=e[172].is_favorite&&Fl(),p=i&&Ll();return{c(){t=u("option"),f&&f.c(),a=h(l),s=g(),p&&p.c(),r=g(),t.__value=d=e[172].id,ee(t,t.__value)},m(v,m){k(v,t,m),f&&f.m(t,null),n(t,a),n(t,s),p&&p.m(t,null),n(t,r)},p(v,m){v[172].is_favorite?f||(f=Fl(),f.c(),f.m(t,a)):f&&(f.d(1),f=null),m[0]&16&&l!==(l=v[172].name+"")&&T(a,l),m[0]&16&&(i=v[172].connection_type&&v[172].connection_type.includes("eSCL")),i?p||(p=Ll(),p.c(),p.m(t,r)):p&&(p.d(1),p=null),m[0]&16&&d!==(d=v[172].id)&&(t.__value=d,ee(t,t.__value))},d(v){v&&S(t),f&&f.d(),p&&p.d()}}}function Ul(e){let t,l=e[187].name+"",a,s,i;return{c(){t=u("option"),a=h(l),s=g(),t.__value=i=e[187].id,ee(t,t.__value)},m(r,d){k(r,t,d),n(t,a),n(t,s)},p(r,d){d[0]&6&&l!==(l=r[187].name+"")&&T(a,l),d[0]&6&&i!==(i=r[187].id)&&(t.__value=i,ee(t,t.__value))},d(r){r&&S(t)}}}function zl(e){let t;return{c(){t=h("‚≠ê ")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function Ml(e){let t,l=e[169].name+"",a,s,i,r=e[169].is_favorite&&zl();return{c(){t=u("option"),r&&r.c(),a=h(l),s=g(),t.__value=i=e[169].id,ee(t,t.__value)},m(d,f){k(d,t,f),r&&r.m(t,null),n(t,a),n(t,s)},p(d,f){d[169].is_favorite?r||(r=zl(),r.c(),r.m(t,a)):r&&(r.d(1),r=null),f[0]&32&&l!==(l=d[169].name+"")&&T(a,l),f[0]&32&&i!==(i=d[169].id)&&(t.__value=i,ee(t,t.__value))},d(d){d&&S(t),r&&r.d()}}}function wa(e){let t,l,a,s=e[3].batchModeActive+"",i,r,d,f=e[3].pagesInBatch+"",p,v,m,_=e[15].length+"",P,D,C,A,F=(e[16]?`${e[3].scanningPage}...`:e[3].addPage)+"",w,b,N,H,j=e[3].finishBatch+"",Z,B,z,U,O=e[3].cancelBatch+"",E,R,G,W=e[15].length>0&&yl(e);return{c(){t=u("div"),l=u("div"),a=h("üìë "),i=h(s),r=g(),d=u("div"),p=h(f),v=h(": "),m=u("strong"),P=h(_),D=g(),W&&W.c(),C=g(),A=u("button"),w=h(F),b=g(),N=u("div"),H=u("button"),Z=h(j),z=g(),U=u("button"),E=h(O),o(l,"font-weight","600"),o(l,"margin-bottom","0.5rem"),o(d,"font-size","0.875rem"),o(d,"margin-bottom","0.75rem"),c(A,"class","primary block"),A.disabled=e[16],o(A,"margin-bottom","0.5rem"),c(H,"class","success block"),H.disabled=B=e[15].length===0||!e[12]||!e[11],c(U,"class","danger block"),o(N,"display","grid"),o(N,"grid-template-columns","1fr 1fr"),o(N,"gap","0.5rem"),o(t,"padding","1rem"),o(t,"background","rgba(100, 150, 255, 0.1)"),o(t,"border","2px solid var(--primary)"),o(t,"border-radius","8px"),o(t,"margin-bottom","0.75rem")},m(M,y){k(M,t,y),n(t,l),n(l,a),n(l,i),n(t,r),n(t,d),n(d,p),n(d,v),n(d,m),n(m,P),n(t,D),W&&W.m(t,null),n(t,C),n(t,A),n(A,w),n(t,b),n(t,N),n(N,H),n(H,Z),n(N,z),n(N,U),n(U,E),R||(G=[se(A,"click",e[61]),se(H,"click",e[62]),se(U,"click",e[63])],R=!0)},p(M,y){y[0]&8&&s!==(s=M[3].batchModeActive+"")&&T(i,s),y[0]&8&&f!==(f=M[3].pagesInBatch+"")&&T(p,f),y[0]&32768&&_!==(_=M[15].length+"")&&T(P,_),M[15].length>0?W?W.p(M,y):(W=yl(M),W.c(),W.m(t,C)):W&&(W.d(1),W=null),y[0]&65544&&F!==(F=(M[16]?`${M[3].scanningPage}...`:M[3].addPage)+"")&&T(w,F),y[0]&65536&&(A.disabled=M[16]),y[0]&8&&j!==(j=M[3].finishBatch+"")&&T(Z,j),y[0]&38950&&B!==(B=M[15].length===0||!M[12]||!M[11])&&(H.disabled=B),y[0]&8&&O!==(O=M[3].cancelBatch+"")&&T(E,O)},d(M){M&&S(t),W&&W.d(),R=!1,Ee(G)}}}function Pa(e){let t,l,a=(e[51]?e[3].previewing:e[3].previewScan)+"",s,i,r,d,f=e[3].startScanButton+"",p,v,m,_,P=e[3].previewDesc+"",D,C,A,F,w,b=e[1]==="Flatbed"&&jl(e);return{c(){t=u("div"),l=u("button"),s=h(a),r=g(),d=u("button"),p=h(f),m=g(),_=u("p"),D=h(P),C=g(),b&&b.c(),A=Bt(),c(l,"class","ghost block"),l.disabled=i=!e[10]||e[51],o(l,"flex","1"),c(d,"class","primary block"),d.disabled=v=!e[10]||!e[12],o(d,"flex","2"),o(t,"display","flex"),o(t,"gap","0.5rem"),c(_,"class","muted small"),o(_,"margin-top","0.5rem")},m(N,H){k(N,t,H),n(t,l),n(l,s),n(t,r),n(t,d),n(d,p),k(N,m,H),k(N,_,H),n(_,D),k(N,C,H),b&&b.m(N,H),k(N,A,H),F||(w=[se(l,"click",e[58]),se(d,"click",e[64])],F=!0)},p(N,H){H[0]&8|H[1]&1048576&&a!==(a=(N[51]?N[3].previewing:N[3].previewScan)+"")&&T(s,a),H[0]&1040|H[1]&1048576&&i!==(i=!N[10]||N[51])&&(l.disabled=i),H[0]&8&&f!==(f=N[3].startScanButton+"")&&T(p,f),H[0]&5168&&v!==(v=!N[10]||!N[12])&&(d.disabled=v),H[0]&8&&P!==(P=N[3].previewDesc+"")&&T(D,P),N[1]==="Flatbed"?b?b.p(N,H):(b=jl(N),b.c(),b.m(A.parentNode,A)):b&&(b.d(1),b=null)},d(N){N&&(S(t),S(m),S(_),S(C),S(A)),b&&b.d(N),F=!1,Ee(w)}}}function yl(e){let t,l=Fe(e[15]),a=[];for(let s=0;s<l.length;s+=1)a[s]=Il(cl(e,l,s));return{c(){t=u("div");for(let s=0;s<a.length;s+=1)a[s].c();o(t,"display","grid"),o(t,"grid-template-columns","repeat(auto-fill, minmax(60px, 1fr))"),o(t,"gap","0.5rem"),o(t,"margin-bottom","0.75rem")},m(s,i){k(s,t,i);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null)},p(s,i){if(i[0]&32768){l=Fe(s[15]);let r;for(r=0;r<l.length;r+=1){const d=cl(s,l,r);a[r]?a[r].p(d,i):(a[r]=Il(d),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=l.length}},d(s){s&&S(t),qe(a,s)}}}function Il(e){let t,l,a,s,i,r,d=e[182].pageNumber+"",f,p;return{c(){t=u("div"),l=u("img"),i=g(),r=u("div"),f=h(d),p=g(),ht(l.src,a=e[182].url)||c(l,"src",a),c(l,"alt",s="Page "+e[182].pageNumber),o(l,"width","100%"),o(l,"height","auto"),o(l,"border-radius","4px"),o(l,"border","1px solid var(--border)"),o(r,"position","absolute"),o(r,"top","2px"),o(r,"left","2px"),o(r,"background","var(--primary)"),o(r,"color","white"),o(r,"padding","2px 6px"),o(r,"border-radius","4px"),o(r,"font-size","0.7rem"),o(r,"font-weight","600"),o(t,"position","relative")},m(v,m){k(v,t,m),n(t,l),n(t,i),n(t,r),n(r,f),n(t,p)},p(v,m){m[0]&32768&&!ht(l.src,a=v[182].url)&&c(l,"src",a),m[0]&32768&&s!==(s="Page "+v[182].pageNumber)&&c(l,"alt",s),m[0]&32768&&d!==(d=v[182].pageNumber+"")&&T(f,d)},d(v){v&&S(t)}}}function jl(e){let t,l,a=e[3].batchMode+"",s,i,r,d,f=e[3].batchModeDesc+"",p,v,m;return{c(){t=u("button"),l=h("üìë "),s=h(a),r=g(),d=u("p"),p=h(f),c(t,"class","ghost block"),t.disabled=i=!e[10],o(t,"margin-top","0.75rem"),o(t,"border","2px dashed var(--border)"),c(d,"class","muted small"),o(d,"margin-top","0.25rem")},m(_,P){k(_,t,P),n(t,l),n(t,s),k(_,r,P),k(_,d,P),n(d,p),v||(m=se(t,"click",e[60]),v=!0)},p(_,P){P[0]&8&&a!==(a=_[3].batchMode+"")&&T(s,a),P[0]&1040&&i!==(i=!_[10])&&(t.disabled=i),P[0]&8&&f!==(f=_[3].batchModeDesc+"")&&T(p,f)},d(_){_&&(S(t),S(r),S(d)),v=!1,m()}}}function Rl(e){let t,l=(e[10]?e[3].pleaseSelectTarget:e[3].pleaseSelectScanner)+"",a;return{c(){t=u("p"),a=h(l),c(t,"class","muted small"),o(t,"margin-top","0.5rem")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&1032&&l!==(l=(s[10]?s[3].pleaseSelectTarget:s[3].pleaseSelectScanner)+"")&&T(a,l)},d(s){s&&S(t)}}}function Ta(e){let t,l,a,s=e[3].configuredScanners+"",i,r,d,f,p=e[3].scannerManagement+"",v,m,_,P=e[3].scannerManagementDesc+"",D,C,A,F,w=(e[37]?e[3].searching:e[3].discoverScanners)+"",b,N,H,j=(e[39]?e[3].cancel:e[3].addManualScanner)+"",Z,B,z,U,O,E,R=e[3].quickProfiles+"",G,W,M,y,le,Y,K=e[3].launchScan+"",Q,fe,q,oe,J=e[3].chooseScanner+"",te,Le,ge,de,pe=e[3].selectScanner+"",X,ne,Ne,x=e[3].scanSource+"",ae,Ie,be,ke,we=e[3].flatbed+"",je,Ce,ve=e[3].adf+"",ue,me,Ae,re=e[3].adfDesc+"",Pe,ze,ye,$e=e[3].profile+"",it,Re,Se,De,Ye,_e=e[3].target+"",Ue,rt,He,at,Ut,Tt,gt=e[3].filename+"",zt,Ht,Be,Dt,Et,st,vt=e[3].filenameDesc+"",Ct,Mt,bt,yt,It;function At(V,he){return V[52]?da:V[4].length===0?fa:ca}let St=At(e),xe=St(e),Oe=e[38]&&kl(e),Je=e[39]&&wl(e);function jt(V,he){if(V[36].length>0)return ma;if(!V[37])return pa}let ut=jt(e),Qe=ut&&ut(e),ct=Fe(e[2]),We=[];for(let V=0;V<ct.length;V+=1)We[V]=Al(ml(e,ct,V));let ft=Fe(e[4]),Ge=[];for(let V=0;V<ft.length;V+=1)Ge[V]=Nl(pl(e,ft,V));let dt=Fe(e[2].filter(e[89])),Ze=[];for(let V=0;V<dt.length;V+=1)Ze[V]=Ul(dl(e,dt,V));let pt=Fe(e[5]),Ve=[];for(let V=0;V<pt.length;V+=1)Ve[V]=Ml(fl(e,pt,V));function Ot(V,he){return V[14]?wa:Pa}let Ft=Ot(e),tt=Ft(e),Ke=(!e[14]&&!e[10]||!e[12])&&Rl(e);return{c(){t=u("div"),l=u("div"),a=u("h3"),i=h(s),r=g(),xe.c(),d=g(),f=u("h3"),v=h(p),m=g(),_=u("p"),D=h(P),C=g(),A=u("div"),F=u("button"),b=h(w),N=g(),H=u("button"),Z=h(j),B=g(),Oe&&Oe.c(),z=g(),Je&&Je.c(),U=g(),Qe&&Qe.c(),O=g(),E=u("h3"),G=h(R),W=g(),M=u("div");for(let V=0;V<We.length;V+=1)We[V].c();y=g(),le=u("div"),Y=u("div"),Q=h(K),fe=g(),q=u("div"),oe=u("label"),te=h(J),Le=g(),ge=u("select"),de=u("option"),X=h(pe);for(let V=0;V<Ge.length;V+=1)Ge[V].c();ne=g(),Ne=u("label"),ae=h(x),Ie=g(),be=u("select"),ke=u("option"),je=h(we),Ce=u("option"),ue=h(ve),me=g(),Ae=u("p"),Pe=h(re),ze=g(),ye=u("label"),it=h($e),Re=g(),Se=u("select");for(let V=0;V<Ze.length;V+=1)Ze[V].c();De=g(),Ye=u("label"),Ue=h(_e),rt=g(),He=u("select"),at=u("option"),at.textContent="-- Select target --";for(let V=0;V<Ve.length;V+=1)Ve[V].c();Ut=g(),Tt=u("label"),zt=h(gt),Ht=g(),Be=u("input"),Et=g(),st=u("p"),Ct=h(vt),Mt=g(),tt.c(),bt=g(),Ke&&Ke.c(),c(f,"class","mt"),c(_,"class","muted"),c(F,"class","primary"),F.disabled=e[37],o(F,"flex","1"),o(F,"min-width","200px"),c(H,"class","ghost"),o(H,"flex","1"),o(H,"min-width","200px"),o(A,"display","flex"),o(A,"gap","0.5rem"),o(A,"flex-wrap","wrap"),c(E,"class","mt"),c(M,"class","chip-row"),c(Y,"class","panel-header"),c(oe,"for","scanner-select"),de.__value="",ee(de,de.__value),c(ge,"id","scanner-select"),e[10]===void 0&&Nt(()=>e[87].call(ge)),c(Ne,"for","source-select"),ke.__value="Flatbed",ee(ke,ke.__value),Ce.__value="ADF",ee(Ce,Ce.__value),c(be,"id","source-select"),o(be,"width","100%"),o(be,"padding","8px 12px"),o(be,"background","var(--surface)"),o(be,"border","1px solid var(--border)"),o(be,"border-radius","6px"),o(be,"color","var(--text)"),o(be,"font-size","14px"),e[1]===void 0&&Nt(()=>e[88].call(be)),c(Ae,"class","muted small"),o(Ae,"margin-top","0.25rem"),o(Ae,"margin-bottom","0.75rem"),c(ye,"for","profile-select"),c(Se,"id","profile-select"),e[11]===void 0&&Nt(()=>e[90].call(Se)),c(Ye,"for","target-select"),at.__value="",ee(at,at.__value),c(He,"id","target-select"),e[12]===void 0&&Nt(()=>e[91].call(He)),c(Tt,"for","filename-input"),c(Be,"id","filename-input"),c(Be,"type","text"),c(Be,"placeholder",Dt=e[3].filenamePlaceholder),o(Be,"width","100%"),o(Be,"padding","8px 12px"),o(Be,"background","var(--surface)"),o(Be,"border","1px solid var(--border)"),o(Be,"border-radius","6px"),o(Be,"color","var(--text)"),o(Be,"font-size","14px"),c(st,"class","muted small"),o(st,"margin-top","0.25rem"),o(st,"margin-bottom","0.75rem"),c(q,"class","panel-body"),c(le,"class","panel"),c(t,"class","grid two-cols")},m(V,he){k(V,t,he),n(t,l),n(l,a),n(a,i),n(l,r),xe.m(l,null),n(l,d),n(l,f),n(f,v),n(l,m),n(l,_),n(_,D),n(l,C),n(l,A),n(A,F),n(F,b),n(A,N),n(A,H),n(H,Z),n(l,B),Oe&&Oe.m(l,null),n(l,z),Je&&Je.m(l,null),n(l,U),Qe&&Qe.m(l,null),n(l,O),n(l,E),n(E,G),n(l,W),n(l,M);for(let ie=0;ie<We.length;ie+=1)We[ie]&&We[ie].m(M,null);n(t,y),n(t,le),n(le,Y),n(Y,Q),n(le,fe),n(le,q),n(q,oe),n(oe,te),n(q,Le),n(q,ge),n(ge,de),n(de,X);for(let ie=0;ie<Ge.length;ie+=1)Ge[ie]&&Ge[ie].m(ge,null);nt(ge,e[10],!0),n(q,ne),n(q,Ne),n(Ne,ae),n(q,Ie),n(q,be),n(be,ke),n(ke,je),n(be,Ce),n(Ce,ue),nt(be,e[1],!0),n(q,me),n(q,Ae),n(Ae,Pe),n(q,ze),n(q,ye),n(ye,it),n(q,Re),n(q,Se);for(let ie=0;ie<Ze.length;ie+=1)Ze[ie]&&Ze[ie].m(Se,null);nt(Se,e[11],!0),n(q,De),n(q,Ye),n(Ye,Ue),n(q,rt),n(q,He),n(He,at);for(let ie=0;ie<Ve.length;ie+=1)Ve[ie]&&Ve[ie].m(He,null);nt(He,e[12],!0),n(q,Ut),n(q,Tt),n(Tt,zt),n(q,Ht),n(q,Be),ee(Be,e[13]),n(q,Et),n(q,st),n(st,Ct),n(q,Mt),tt.m(q,null),n(q,bt),Ke&&Ke.m(q,null),yt||(It=[se(F,"click",e[76]),se(H,"click",e[82]),se(ge,"change",e[87]),se(be,"change",e[88]),se(Se,"change",e[90]),se(He,"change",e[91]),se(Be,"input",e[92])],yt=!0)},p(V,he){if(he[0]&8&&s!==(s=V[3].configuredScanners+"")&&T(i,s),St===(St=At(V))&&xe?xe.p(V,he):(xe.d(1),xe=St(V),xe&&(xe.c(),xe.m(l,d))),he[0]&8&&p!==(p=V[3].scannerManagement+"")&&T(v,p),he[0]&8&&P!==(P=V[3].scannerManagementDesc+"")&&T(D,P),he[0]&8|he[1]&64&&w!==(w=(V[37]?V[3].searching:V[3].discoverScanners)+"")&&T(b,w),he[1]&64&&(F.disabled=V[37]),he[0]&8|he[1]&256&&j!==(j=(V[39]?V[3].cancel:V[3].addManualScanner)+"")&&T(Z,j),V[38]?Oe?Oe.p(V,he):(Oe=kl(V),Oe.c(),Oe.m(l,z)):Oe&&(Oe.d(1),Oe=null),V[39]?Je?Je.p(V,he):(Je=wl(V),Je.c(),Je.m(l,U)):Je&&(Je.d(1),Je=null),ut===(ut=jt(V))&&Qe?Qe.p(V,he):(Qe&&Qe.d(1),Qe=ut&&ut(V),Qe&&(Qe.c(),Qe.m(l,O))),he[0]&8&&R!==(R=V[3].quickProfiles+"")&&T(G,R),he[0]&4){ct=Fe(V[2]);let ie;for(ie=0;ie<ct.length;ie+=1){const et=ml(V,ct,ie);We[ie]?We[ie].p(et,he):(We[ie]=Al(et),We[ie].c(),We[ie].m(M,null))}for(;ie<We.length;ie+=1)We[ie].d(1);We.length=ct.length}if(he[0]&8&&K!==(K=V[3].launchScan+"")&&T(Q,K),he[0]&8&&J!==(J=V[3].chooseScanner+"")&&T(te,J),he[0]&8&&pe!==(pe=V[3].selectScanner+"")&&T(X,pe),he[0]&16){ft=Fe(V[4]);let ie;for(ie=0;ie<ft.length;ie+=1){const et=pl(V,ft,ie);Ge[ie]?Ge[ie].p(et,he):(Ge[ie]=Nl(et),Ge[ie].c(),Ge[ie].m(ge,null))}for(;ie<Ge.length;ie+=1)Ge[ie].d(1);Ge.length=ft.length}if(he[0]&1040&&nt(ge,V[10]),he[0]&8&&x!==(x=V[3].scanSource+"")&&T(ae,x),he[0]&8&&we!==(we=V[3].flatbed+"")&&T(je,we),he[0]&8&&ve!==(ve=V[3].adf+"")&&T(ue,ve),he[0]&2&&nt(be,V[1]),he[0]&8&&re!==(re=V[3].adfDesc+"")&&T(Pe,re),he[0]&8&&$e!==($e=V[3].profile+"")&&T(it,$e),he[0]&6){dt=Fe(V[2].filter(V[89]));let ie;for(ie=0;ie<dt.length;ie+=1){const et=dl(V,dt,ie);Ze[ie]?Ze[ie].p(et,he):(Ze[ie]=Ul(et),Ze[ie].c(),Ze[ie].m(Se,null))}for(;ie<Ze.length;ie+=1)Ze[ie].d(1);Ze.length=dt.length}if(he[0]&2054&&nt(Se,V[11]),he[0]&8&&_e!==(_e=V[3].target+"")&&T(Ue,_e),he[0]&32){pt=Fe(V[5]);let ie;for(ie=0;ie<pt.length;ie+=1){const et=fl(V,pt,ie);Ve[ie]?Ve[ie].p(et,he):(Ve[ie]=Ml(et),Ve[ie].c(),Ve[ie].m(He,null))}for(;ie<Ve.length;ie+=1)Ve[ie].d(1);Ve.length=pt.length}he[0]&4128&&nt(He,V[12]),he[0]&8&&gt!==(gt=V[3].filename+"")&&T(zt,gt),he[0]&8&&Dt!==(Dt=V[3].filenamePlaceholder)&&c(Be,"placeholder",Dt),he[0]&8192&&Be.value!==V[13]&&ee(Be,V[13]),he[0]&8&&vt!==(vt=V[3].filenameDesc+"")&&T(Ct,vt),Ft===(Ft=Ot(V))&&tt?tt.p(V,he):(tt.d(1),tt=Ft(V),tt&&(tt.c(),tt.m(q,bt))),!V[14]&&!V[10]||!V[12]?Ke?Ke.p(V,he):(Ke=Rl(V),Ke.c(),Ke.m(q,null)):Ke&&(Ke.d(1),Ke=null)},d(V){V&&S(t),xe.d(),Oe&&Oe.d(),Je&&Je.d(),Qe&&Qe.d(),qe(We,V),qe(Ge,V),qe(Ze,V),qe(Ve,V),tt.d(),Ke&&Ke.d(),yt=!1,Ee(It)}}}function Bl(e){let t,l,a,s,i=e[3].previewScan+"",r,d,f,p,v,m;function _(C,A){if(C[51])return Ca;if(C[50])return Da}let P=_(e),D=P&&P(e);return{c(){t=u("div"),l=u("div"),a=u("div"),s=u("h2"),r=h(i),d=g(),f=u("button"),f.textContent="‚úï",p=g(),D&&D.c(),c(f,"class","ghost"),o(a,"display","flex"),o(a,"justify-content","space-between"),o(a,"align-items","center"),o(a,"margin-bottom","1.5rem"),c(l,"class","card"),o(l,"max-width","90%"),o(l,"max-height","90%"),o(l,"overflow","auto"),o(l,"padding","2rem"),o(t,"position","fixed"),o(t,"inset","0"),o(t,"background","rgba(0, 0, 0, 0.8)"),o(t,"display","flex"),o(t,"align-items","center"),o(t,"justify-content","center"),o(t,"z-index","1000"),o(t,"padding","2rem")},m(C,A){k(C,t,A),n(t,l),n(l,a),n(a,s),n(s,r),n(a,d),n(a,f),n(l,p),D&&D.m(l,null),v||(m=[se(f,"click",e[59]),se(l,"click",ea(e[79])),se(t,"click",e[59])],v=!0)},p(C,A){A[0]&8&&i!==(i=C[3].previewScan+"")&&T(r,i),P===(P=_(C))&&D?D.p(C,A):(D&&D.d(1),D=P&&P(C),D&&(D.c(),D.m(l,null)))},d(C){C&&S(t),D&&D.d(),v=!1,Ee(m)}}}function Da(e){let t,l,a,s,i,r,d=e[3].closePreview+"",f,p,v,m=e[3].proceedToScan+"",_,P,D;return{c(){t=u("div"),l=u("img"),s=g(),i=u("div"),r=u("button"),f=h(d),p=g(),v=u("button"),_=h(m),ht(l.src,a=e[50])||c(l,"src",a),c(l,"alt","Scan preview"),o(l,"max-width","100%"),o(l,"height","auto"),o(l,"border-radius","8px"),o(l,"border","1px solid var(--border)"),o(t,"text-align","center"),o(t,"margin-bottom","1.5rem"),c(r,"class","ghost"),c(v,"class","primary"),o(i,"display","flex"),o(i,"gap","1rem"),o(i,"justify-content","center")},m(C,A){k(C,t,A),n(t,l),k(C,s,A),k(C,i,A),n(i,r),n(r,f),n(i,p),n(i,v),n(v,_),P||(D=[se(r,"click",e[59]),se(v,"click",e[64])],P=!0)},p(C,A){A[1]&524288&&!ht(l.src,a=C[50])&&c(l,"src",a),A[0]&8&&d!==(d=C[3].closePreview+"")&&T(f,d),A[0]&8&&m!==(m=C[3].proceedToScan+"")&&T(_,m)},d(C){C&&(S(t),S(s),S(i)),P=!1,Ee(D)}}}function Ca(e){let t,l,a=e[3].previewing+"",s;return{c(){t=u("div"),l=u("p"),s=h(a),c(l,"class","muted"),o(t,"text-align","center"),o(t,"padding","4rem")},m(i,r){k(i,t,r),n(t,l),n(l,s)},p(i,r){r[0]&8&&a!==(a=i[3].previewing+"")&&T(s,a)},d(i){i&&S(t)}}}function Aa(e){let t,l=e[3].noScansDesc+"",a;return{c(){t=u("p"),a=h(l),c(t,"class","muted")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&8&&l!==(l=s[3].noScansDesc+"")&&T(a,l)},d(s){s&&S(t)}}}function Fa(e){let t,l,a=Fe(e[8]),s=[];for(let r=0;r<a.length;r+=1)s[r]=Hl(ul(e,a,r));let i=e[9]&&e[8].length===0&&El(e);return{c(){t=u("div");for(let r=0;r<s.length;r+=1)s[r].c();l=g(),i&&i.c(),c(t,"class","grid"),o(t,"grid-template-columns","repeat(auto-fill, minmax(300px, 1fr))"),o(t,"gap","1.5rem")},m(r,d){k(r,t,d);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(t,null);n(t,l),i&&i.m(t,null)},p(r,d){if(d[0]&296|d[1]&16777216|d[2]&512){a=Fe(r[8]);let f;for(f=0;f<a.length;f+=1){const p=ul(r,a,f);s[f]?s[f].p(p,d):(s[f]=Hl(p),s[f].c(),s[f].m(t,l))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}r[9]&&r[8].length===0?i?i.p(r,d):(i=El(r),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(r){r&&S(t),qe(s,r),i&&i.d()}}}function La(e){let t;return{c(){t=u("div"),t.innerHTML='<p class="muted">üñ®Ô∏è Scanning...</p>',o(t,"margin-bottom","0.75rem"),o(t,"padding","3rem 1rem"),o(t,"background","var(--surface-dim)"),o(t,"border-radius","6px"),o(t,"text-align","center")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function Na(e){let t,l,a,s,i,r;function d(){return e[93](e[161])}return{c(){t=u("div"),l=u("img"),ht(l.src,a=e[161].thumbnailUrl)||c(l,"src",a),c(l,"alt","Scan preview"),o(l,"width",e[55]===e[161].id?"100%":"50%"),o(l,"height","auto"),o(l,"border-radius","6px"),o(l,"border","1px solid var(--border)"),o(l,"transition","width 0.3s ease"),c(l,"title",s="Click to "+(e[55]===e[161].id?"shrink":"expand")),o(t,"margin-bottom","0.75rem"),o(t,"cursor","pointer"),o(t,"display","flex"),o(t,"justify-content","flex-start")},m(f,p){k(f,t,p),n(t,l),i||(r=se(t,"click",d),i=!0)},p(f,p){e=f,p[0]&256&&!ht(l.src,a=e[161].thumbnailUrl)&&c(l,"src",a),p[0]&256|p[1]&16777216&&o(l,"width",e[55]===e[161].id?"100%":"50%"),p[0]&256|p[1]&16777216&&s!==(s="Click to "+(e[55]===e[161].id?"shrink":"expand"))&&c(l,"title",s)},d(f){f&&S(t),i=!1,r()}}}function Hl(e){var Re;let t,l,a,s,i=e[161].id.slice(0,8)+"",r,d,f,p,v,m,_=e[3].scanStatus+"",P,D,C,A=(e[161].status==="queued"?e[3].queued:e[3].running)+"",F,w,b,N,H,j=e[3].uploadStatus+"",Z,B,z,U=e[3].waiting+"",O,E,R,G,W,M=e[3].device+"",y,le,Y,K=(e[161].device_id?ot(e[161].device_id):"N/A")+"",Q,fe,q,oe,J=e[3].target+"",te,Le,ge,de=(((Re=e[5].find($e))==null?void 0:Re.name)||e[161].target_id||"N/A")+"",pe,X,ne,Ne,x=e[3].started+"",ae,Ie,be,ke=new Date(e[161].created_at).toLocaleTimeString()+"",we,je,Ce,ve,ue=e[3].cancelJob+"",me,Ae,re;function Pe(Se,De){if(Se[161].thumbnailUrl)return Na;if(Se[161].status==="running")return La}let ze=Pe(e),ye=ze&&ze(e);function $e(...Se){return e[94](e[161],...Se)}function it(){return e[95](e[161])}return{c(){t=u("div"),l=u("div"),a=u("span"),s=h("Job #"),r=h(i),d=g(),ye&&ye.c(),f=g(),p=u("div"),v=u("div"),m=u("span"),P=h(_),D=g(),C=u("span"),F=h(A),b=g(),N=u("div"),H=u("span"),Z=h(j),B=g(),z=u("span"),O=h(U),E=g(),R=u("div"),G=u("div"),W=u("span"),y=h(M),le=h(":"),Y=g(),Q=h(K),fe=g(),q=u("div"),oe=u("span"),te=h(J),Le=h(":"),ge=g(),pe=h(de),X=g(),ne=u("div"),Ne=u("span"),ae=h(x),Ie=h(":"),be=g(),we=h(ke),je=g(),Ce=u("button"),ve=h("‚ùå "),me=h(ue),c(a,"class","muted"),o(a,"font-size","0.875rem"),o(l,"display","flex"),o(l,"align-items","center"),o(l,"gap","1rem"),o(l,"margin-bottom","0.75rem"),o(m,"font-size","0.875rem"),o(m,"font-weight","500"),o(m,"width","50px"),c(C,"class",w=`badge ${e[161].status==="running"?"warning":"info"}`),o(C,"font-size","0.875rem"),o(v,"display","flex"),o(v,"align-items","center"),o(v,"gap","0.5rem"),o(v,"margin-bottom","0.5rem"),o(H,"font-size","0.875rem"),o(H,"font-weight","500"),o(H,"width","50px"),o(H,"opacity","0.5"),c(z,"class","badge"),o(z,"font-size","0.875rem"),o(z,"opacity","0.5"),o(N,"display","flex"),o(N,"align-items","center"),o(N,"gap","0.5rem"),o(p,"margin-bottom","0.75rem"),c(W,"class","muted"),o(G,"margin-bottom","0.25rem"),c(oe,"class","muted"),o(q,"margin-bottom","0.25rem"),c(Ne,"class","muted"),o(ne,"margin-bottom","0.75rem"),o(R,"font-size","0.875rem"),c(Ce,"class","danger small block"),o(Ce,"width","100%"),o(Ce,"margin-top","0.5rem"),c(t,"class","panel"),o(t,"padding","1rem")},m(Se,De){k(Se,t,De),n(t,l),n(l,a),n(a,s),n(a,r),n(t,d),ye&&ye.m(t,null),n(t,f),n(t,p),n(p,v),n(v,m),n(m,P),n(v,D),n(v,C),n(C,F),n(p,b),n(p,N),n(N,H),n(H,Z),n(N,B),n(N,z),n(z,O),n(t,E),n(t,R),n(R,G),n(G,W),n(W,y),n(W,le),n(G,Y),n(G,Q),n(R,fe),n(R,q),n(q,oe),n(oe,te),n(oe,Le),n(q,ge),n(q,pe),n(R,X),n(R,ne),n(ne,Ne),n(Ne,ae),n(Ne,Ie),n(ne,be),n(ne,we),n(t,je),n(t,Ce),n(Ce,ve),n(Ce,me),Ae||(re=se(Ce,"click",it),Ae=!0)},p(Se,De){var Ye;e=Se,De[0]&256&&i!==(i=e[161].id.slice(0,8)+"")&&T(r,i),ze===(ze=Pe(e))&&ye?ye.p(e,De):(ye&&ye.d(1),ye=ze&&ze(e),ye&&(ye.c(),ye.m(t,f))),De[0]&8&&_!==(_=e[3].scanStatus+"")&&T(P,_),De[0]&264&&A!==(A=(e[161].status==="queued"?e[3].queued:e[3].running)+"")&&T(F,A),De[0]&256&&w!==(w=`badge ${e[161].status==="running"?"warning":"info"}`)&&c(C,"class",w),De[0]&8&&j!==(j=e[3].uploadStatus+"")&&T(Z,j),De[0]&8&&U!==(U=e[3].waiting+"")&&T(O,U),De[0]&8&&M!==(M=e[3].device+"")&&T(y,M),De[0]&256&&K!==(K=(e[161].device_id?ot(e[161].device_id):"N/A")+"")&&T(Q,K),De[0]&8&&J!==(J=e[3].target+"")&&T(te,J),De[0]&288&&de!==(de=(((Ye=e[5].find($e))==null?void 0:Ye.name)||e[161].target_id||"N/A")+"")&&T(pe,de),De[0]&8&&x!==(x=e[3].started+"")&&T(ae,x),De[0]&256&&ke!==(ke=new Date(e[161].created_at).toLocaleTimeString()+"")&&T(we,ke),De[0]&8&&ue!==(ue=e[3].cancelJob+"")&&T(me,ue)},d(Se){Se&&S(t),ye&&ye.d(),Ae=!1,re()}}}function El(e){var Ye;let t,l,a,s,i=e[9].id.slice(0,8)+"",r,d,f,p,v,m,_=e[3].scanStatus+"",P,D,C,A=(e[9].status==="failed"?e[3].failed:e[3].done)+"",F,w,b,N,H,j=e[3].uploadStatus+"",Z,B,z,U,O=(e[9].status==="failed"?e[3].skipped:e[9].message?e[3].failed:e[3].done)+"",E,R,G,W,M,y,le,Y,K,Q=e[3].device+"",fe,q,oe,J=(e[9].device_id?ot(e[9].device_id):"N/A")+"",te,Le,ge,de,pe=e[3].target+"",X,ne,Ne,x=(((Ye=e[5].find(e[98]))==null?void 0:Ye.name)||e[9].target_id||"N/A")+"",ae,Ie,be,ke,we=e[3].completed+"",je,Ce,ve,ue=new Date(e[9].created_at).toLocaleTimeString()+"",me,Ae,re,Pe,ze=e[3].deleteJob+"",ye,$e,it,Re=e[9].thumbnailUrl&&Ol(e),Se=e[9].status==="completed"&&e[9].message&&Jl(e),De=e[9].message&&Wl(e);return{c(){t=u("div"),l=u("div"),a=u("span"),s=h("Job #"),r=h(i),d=g(),Re&&Re.c(),f=g(),p=u("div"),v=u("div"),m=u("span"),P=h(_),D=g(),C=u("span"),F=h(A),b=g(),N=u("div"),H=u("span"),Z=h(j),z=g(),U=u("span"),E=h(O),W=g(),Se&&Se.c(),M=g(),De&&De.c(),y=g(),le=u("div"),Y=u("div"),K=u("span"),fe=h(Q),q=h(":"),oe=g(),te=h(J),Le=g(),ge=u("div"),de=u("span"),X=h(pe),ne=h(":"),Ne=g(),ae=h(x),Ie=g(),be=u("div"),ke=u("span"),je=h(we),Ce=h(":"),ve=g(),me=h(ue),Ae=g(),re=u("button"),Pe=h("üóëÔ∏è "),ye=h(ze),c(a,"class","muted"),o(a,"font-size","0.875rem"),o(l,"display","flex"),o(l,"align-items","center"),o(l,"gap","1rem"),o(l,"margin-bottom","0.75rem"),o(m,"font-size","0.875rem"),o(m,"font-weight","500"),o(m,"width","50px"),c(C,"class",w=`badge ${e[9].status==="failed"?"danger":"success"}`),o(C,"font-size","0.875rem"),o(v,"display","flex"),o(v,"align-items","center"),o(v,"gap","0.5rem"),o(v,"margin-bottom","0.5rem"),c(H,"style",B="font-size: 0.875rem; font-weight: 500; width: 50px; "+(e[9].status==="failed"?"opacity: 0.5;":"")),c(U,"class",R=`badge ${e[9].status==="failed"?"":e[9].message?"danger":"success"}`),c(U,"style",G="font-size: 0.875rem; "+(e[9].status==="failed"?"opacity: 0.5;":"")),o(N,"display","flex"),o(N,"align-items","center"),o(N,"gap","0.5rem"),o(p,"margin-bottom","0.75rem"),c(K,"class","muted"),o(Y,"margin-bottom","0.25rem"),c(de,"class","muted"),o(ge,"margin-bottom","0.25rem"),c(ke,"class","muted"),o(be,"margin-bottom","0.75rem"),o(le,"font-size","0.875rem"),c(re,"class","danger small block"),o(re,"width","100%"),o(re,"margin-top","0.5rem"),c(t,"class","panel"),o(t,"padding","1rem")},m(_e,Ue){k(_e,t,Ue),n(t,l),n(l,a),n(a,s),n(a,r),n(t,d),Re&&Re.m(t,null),n(t,f),n(t,p),n(p,v),n(v,m),n(m,P),n(v,D),n(v,C),n(C,F),n(p,b),n(p,N),n(N,H),n(H,Z),n(N,z),n(N,U),n(U,E),n(N,W),Se&&Se.m(N,null),n(t,M),De&&De.m(t,null),n(t,y),n(t,le),n(le,Y),n(Y,K),n(K,fe),n(K,q),n(Y,oe),n(Y,te),n(le,Le),n(le,ge),n(ge,de),n(de,X),n(de,ne),n(ge,Ne),n(ge,ae),n(le,Ie),n(le,be),n(be,ke),n(ke,je),n(ke,Ce),n(be,ve),n(be,me),n(t,Ae),n(t,re),n(re,Pe),n(re,ye),$e||(it=se(re,"click",e[99]),$e=!0)},p(_e,Ue){var rt;Ue[0]&512&&i!==(i=_e[9].id.slice(0,8)+"")&&T(r,i),_e[9].thumbnailUrl?Re?Re.p(_e,Ue):(Re=Ol(_e),Re.c(),Re.m(t,f)):Re&&(Re.d(1),Re=null),Ue[0]&8&&_!==(_=_e[3].scanStatus+"")&&T(P,_),Ue[0]&520&&A!==(A=(_e[9].status==="failed"?_e[3].failed:_e[3].done)+"")&&T(F,A),Ue[0]&512&&w!==(w=`badge ${_e[9].status==="failed"?"danger":"success"}`)&&c(C,"class",w),Ue[0]&8&&j!==(j=_e[3].uploadStatus+"")&&T(Z,j),Ue[0]&512&&B!==(B="font-size: 0.875rem; font-weight: 500; width: 50px; "+(_e[9].status==="failed"?"opacity: 0.5;":""))&&c(H,"style",B),Ue[0]&520&&O!==(O=(_e[9].status==="failed"?_e[3].skipped:_e[9].message?_e[3].failed:_e[3].done)+"")&&T(E,O),Ue[0]&512&&R!==(R=`badge ${_e[9].status==="failed"?"":_e[9].message?"danger":"success"}`)&&c(U,"class",R),Ue[0]&512&&G!==(G="font-size: 0.875rem; "+(_e[9].status==="failed"?"opacity: 0.5;":""))&&c(U,"style",G),_e[9].status==="completed"&&_e[9].message?Se?Se.p(_e,Ue):(Se=Jl(_e),Se.c(),Se.m(N,null)):Se&&(Se.d(1),Se=null),_e[9].message?De?De.p(_e,Ue):(De=Wl(_e),De.c(),De.m(t,y)):De&&(De.d(1),De=null),Ue[0]&8&&Q!==(Q=_e[3].device+"")&&T(fe,Q),Ue[0]&512&&J!==(J=(_e[9].device_id?ot(_e[9].device_id):"N/A")+"")&&T(te,J),Ue[0]&8&&pe!==(pe=_e[3].target+"")&&T(X,pe),Ue[0]&544&&x!==(x=(((rt=_e[5].find(_e[98]))==null?void 0:rt.name)||_e[9].target_id||"N/A")+"")&&T(ae,x),Ue[0]&8&&we!==(we=_e[3].completed+"")&&T(je,we),Ue[0]&512&&ue!==(ue=new Date(_e[9].created_at).toLocaleTimeString()+"")&&T(me,ue),Ue[0]&8&&ze!==(ze=_e[3].deleteJob+"")&&T(ye,ze)},d(_e){_e&&S(t),Re&&Re.d(),Se&&Se.d(),De&&De.d(),$e=!1,it()}}}function Ol(e){let t,l,a,s,i,r;return{c(){t=u("div"),l=u("img"),ht(l.src,a=e[9].thumbnailUrl)||c(l,"src",a),c(l,"alt","Scan preview"),o(l,"width",e[55]===e[9].id?"100%":"50%"),o(l,"height","auto"),o(l,"border-radius","6px"),o(l,"border","1px solid var(--border)"),o(l,"transition","width 0.3s ease"),c(l,"title",s="Click to "+(e[55]===e[9].id?"shrink":"expand")),o(t,"margin-bottom","0.75rem"),o(t,"cursor","pointer"),o(t,"display","flex"),o(t,"justify-content","flex-start")},m(d,f){k(d,t,f),n(t,l),i||(r=se(t,"click",e[96]),i=!0)},p(d,f){f[0]&512&&!ht(l.src,a=d[9].thumbnailUrl)&&c(l,"src",a),f[0]&512|f[1]&16777216&&o(l,"width",d[55]===d[9].id?"100%":"50%"),f[0]&512|f[1]&16777216&&s!==(s="Click to "+(d[55]===d[9].id?"shrink":"expand"))&&c(l,"title",s)},d(d){d&&S(t),i=!1,r()}}}function Jl(e){let t,l,a;return{c(){t=u("button"),t.textContent="üîÑ Retry",c(t,"class","primary small"),o(t,"margin-left","auto"),o(t,"font-size","0.75rem"),o(t,"padding","0.25rem 0.5rem")},m(s,i){k(s,t,i),l||(a=se(t,"click",e[97]),l=!0)},p:Xe,d(s){s&&S(t),l=!1,a()}}}function Wl(e){let t,l=e[9].message+"",a;return{c(){t=u("div"),a=h(l),o(t,"margin-bottom","0.75rem"),o(t,"font-size","0.8rem"),o(t,"color","var(--danger)"),o(t,"padding","0.5rem"),o(t,"background","rgba(255, 100, 100, 0.1)"),o(t,"border-radius","4px"),o(t,"border","1px solid rgba(255, 100, 100, 0.3)")},m(s,i){k(s,t,i),n(t,a)},p(s,i){i[0]&512&&l!==(l=s[9].message+"")&&T(a,l)},d(s){s&&S(t)}}}function Ua(e){let t;function l(i,r){return i[8].length>0||i[9]?Fa:Aa}let a=l(e),s=a(e);return{c(){s.c(),t=Bt()},m(i,r){s.m(i,r),k(i,t,r)},p(i,r){a===(a=l(i))&&s?s.p(i,r):(s.d(1),s=a(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){i&&S(t),s.d(i)}}}function za(e){let t,l=Fe(e[5]),a=[];for(let s=0;s<l.length;s+=1)a[s]=Zl(rl(e,l,s));return{c(){t=u("ul");for(let s=0;s<a.length;s+=1)a[s].c();c(t,"class","list")},m(s,i){k(s,t,i);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null)},p(s,i){if(i[0]&32|i[2]&4176){l=Fe(s[5]);let r;for(r=0;r<l.length;r+=1){const d=rl(s,l,r);a[r]?a[r].p(d,i):(a[r]=Zl(d),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=l.length}},d(s){s&&S(t),qe(a,s)}}}function Ma(e){let t;return{c(){t=u("p"),t.textContent="No targets configured yet.",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function ya(e){let t;return{c(){t=u("p"),t.textContent="‚è≥ Loading targets...",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function Gl(e){let t;return{c(){t=h("‚≠ê ")},m(l,a){k(l,t,a)},d(l){l&&S(t)}}}function Zl(e){var Y;let t,l,a,s=e[169].name+"",i,r,d,f=e[169].type+"",p,v,m=(((Y=e[169].config)==null?void 0:Y.connection)||"N/A")+"",_,P,D,C=e[169].enabled?"Enabled":"Disabled",A,F,w,b,N,H,j,Z=e[169].is_favorite?"‚≠ê":"‚òÜ",B,z,U,O,E,R,G,W=e[169].is_favorite&&Gl();function M(){return e[100](e[169])}function y(){return e[101](e[169])}function le(){return e[102](e[169])}return{c(){t=u("li"),l=u("div"),a=u("div"),W&&W.c(),i=h(s),r=g(),d=u("div"),p=h(f),v=h(": "),_=h(m),P=g(),D=u("span"),A=h(C),w=g(),b=u("div"),N=u("button"),N.textContent="üîç Test",H=g(),j=u("button"),B=h(Z),U=g(),O=u("button"),O.textContent="Remove",E=g(),c(a,"class","list-title"),c(d,"class","muted"),c(D,"class",F="badge "+(e[169].enabled?"success":"warning")),o(l,"flex","1"),c(N,"class","ghost small"),c(N,"title","Test connection"),c(j,"class","ghost small"),c(j,"title",z=(e[169].is_favorite?"Remove from":"Add to")+" favorites"),c(O,"class","danger small"),o(b,"display","flex"),o(b,"gap","0.5rem"),o(t,"display","flex"),o(t,"align-items","center"),o(t,"justify-content","space-between")},m(K,Q){k(K,t,Q),n(t,l),n(l,a),W&&W.m(a,null),n(a,i),n(l,r),n(l,d),n(d,p),n(d,v),n(d,_),n(l,P),n(l,D),n(D,A),n(t,w),n(t,b),n(b,N),n(b,H),n(b,j),n(j,B),n(b,U),n(b,O),n(t,E),R||(G=[se(N,"click",M),se(j,"click",y),se(O,"click",le)],R=!0)},p(K,Q){var fe;e=K,e[169].is_favorite?W||(W=Gl(),W.c(),W.m(a,i)):W&&(W.d(1),W=null),Q[0]&32&&s!==(s=e[169].name+"")&&T(i,s),Q[0]&32&&f!==(f=e[169].type+"")&&T(p,f),Q[0]&32&&m!==(m=(((fe=e[169].config)==null?void 0:fe.connection)||"N/A")+"")&&T(_,m),Q[0]&32&&C!==(C=e[169].enabled?"Enabled":"Disabled")&&T(A,C),Q[0]&32&&F!==(F="badge "+(e[169].enabled?"success":"warning"))&&c(D,"class",F),Q[0]&32&&Z!==(Z=e[169].is_favorite?"‚≠ê":"‚òÜ")&&T(B,Z),Q[0]&32&&z!==(z=(e[169].is_favorite?"Remove from":"Add to")+" favorites")&&c(j,"title",z)},d(K){K&&S(t),W&&W.d(),R=!1,Ee(G)}}}function Ia(e){let t,l=e[3].webdavUrl+"",a,s,i,r,d,f,p=e[3].username+"",v,m,_,P,D,C,A=e[3].password+"",F,w,b,N,H,j,Z=e[3].webdavPath+"",B,z,U,O,E,R,G,W;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("label"),v=h(p),m=g(),_=u("input"),D=g(),C=u("label"),F=h(A),w=g(),b=u("input"),H=g(),j=u("label"),B=h(Z),z=g(),U=u("input"),E=g(),R=u("p"),R.textContent="Use WebDAV URL from Nextcloud settings.",c(t,"for","target-webdav-url"),c(i,"id","target-webdav-url"),c(i,"type","url"),c(i,"placeholder",r=e[3].webdavUrlPlaceholder),c(f,"for","target-username"),c(_,"id","target-username"),c(_,"type","text"),c(_,"placeholder",P=e[3].usernamePlaceholder),c(C,"for","target-password"),c(b,"id","target-password"),c(b,"type","password"),c(b,"placeholder",N=e[3].passwordPlaceholder),c(j,"for","target-webdav-path"),c(U,"id","target-webdav-path"),c(U,"type","text"),c(U,"placeholder",O=e[3].webdavPathPlaceholder),c(R,"class","muted small"),o(R,"margin-top","0.25rem"),o(R,"margin-bottom","0.75rem")},m(M,y){k(M,t,y),n(t,a),k(M,s,y),k(M,i,y),ee(i,e[34]),k(M,d,y),k(M,f,y),n(f,v),k(M,m,y),k(M,_,y),ee(_,e[20]),k(M,D,y),k(M,C,y),n(C,F),k(M,w,y),k(M,b,y),ee(b,e[21]),k(M,H,y),k(M,j,y),n(j,B),k(M,z,y),k(M,U,y),ee(U,e[35]),k(M,E,y),k(M,R,y),G||(W=[se(i,"input",e[129]),se(_,"input",e[130]),se(b,"input",e[131]),se(U,"input",e[132])],G=!0)},p(M,y){y[0]&8&&l!==(l=M[3].webdavUrl+"")&&T(a,l),y[0]&8&&r!==(r=M[3].webdavUrlPlaceholder)&&c(i,"placeholder",r),y[1]&8&&i.value!==M[34]&&ee(i,M[34]),y[0]&8&&p!==(p=M[3].username+"")&&T(v,p),y[0]&8&&P!==(P=M[3].usernamePlaceholder)&&c(_,"placeholder",P),y[0]&1048576&&_.value!==M[20]&&ee(_,M[20]),y[0]&8&&A!==(A=M[3].password+"")&&T(F,A),y[0]&8&&N!==(N=M[3].passwordPlaceholder)&&c(b,"placeholder",N),y[0]&2097152&&b.value!==M[21]&&ee(b,M[21]),y[0]&8&&Z!==(Z=M[3].webdavPath+"")&&T(B,Z),y[0]&8&&O!==(O=M[3].webdavPathPlaceholder)&&c(U,"placeholder",O),y[1]&16&&U.value!==M[35]&&ee(U,M[35])},d(M){M&&(S(t),S(s),S(i),S(d),S(f),S(m),S(_),S(D),S(C),S(w),S(b),S(H),S(j),S(z),S(U),S(E),S(R)),G=!1,Ee(W)}}}function ja(e){let t,l=e[3].accessToken+"",a,s,i,r,d,f,p=e[3].folderPath+"",v,m,_,P,D,C,A,F;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("label"),v=h(p),m=g(),_=u("input"),D=g(),C=u("p"),C.textContent="Get OAuth2 token from Azure AD. Leave path empty for root.",c(t,"for","target-access-token"),c(i,"id","target-access-token"),c(i,"type","password"),c(i,"placeholder",r=e[3].accessTokenPlaceholder),c(f,"for","target-folder-path"),c(_,"id","target-folder-path"),c(_,"type","text"),c(_,"placeholder",P=e[3].folderPathPlaceholder),c(C,"class","muted small"),o(C,"margin-top","0.25rem"),o(C,"margin-bottom","0.75rem")},m(w,b){k(w,t,b),n(t,a),k(w,s,b),k(w,i,b),ee(i,e[31]),k(w,d,b),k(w,f,b),n(f,v),k(w,m,b),k(w,_,b),ee(_,e[33]),k(w,D,b),k(w,C,b),A||(F=[se(i,"input",e[127]),se(_,"input",e[128])],A=!0)},p(w,b){b[0]&8&&l!==(l=w[3].accessToken+"")&&T(a,l),b[0]&8&&r!==(r=w[3].accessTokenPlaceholder)&&c(i,"placeholder",r),b[1]&1&&i.value!==w[31]&&ee(i,w[31]),b[0]&8&&p!==(p=w[3].folderPath+"")&&T(v,p),b[0]&8&&P!==(P=w[3].folderPathPlaceholder)&&c(_,"placeholder",P),b[1]&4&&_.value!==w[33]&&ee(_,w[33])},d(w){w&&(S(t),S(s),S(i),S(d),S(f),S(m),S(_),S(D),S(C)),A=!1,Ee(F)}}}function Ra(e){let t,l=e[3].accessToken+"",a,s,i,r,d,f,p=e[3].folderPath+"",v,m,_,P,D,C,A,F;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("label"),v=h(p),m=g(),_=u("input"),D=g(),C=u("p"),C.textContent="Get OAuth2 token from Dropbox App Console. Leave path empty for root.",c(t,"for","target-access-token"),c(i,"id","target-access-token"),c(i,"type","password"),c(i,"placeholder",r=e[3].accessTokenPlaceholder),c(f,"for","target-folder-path"),c(_,"id","target-folder-path"),c(_,"type","text"),c(_,"placeholder",P=e[3].folderPathPlaceholder),c(C,"class","muted small"),o(C,"margin-top","0.25rem"),o(C,"margin-bottom","0.75rem")},m(w,b){k(w,t,b),n(t,a),k(w,s,b),k(w,i,b),ee(i,e[31]),k(w,d,b),k(w,f,b),n(f,v),k(w,m,b),k(w,_,b),ee(_,e[33]),k(w,D,b),k(w,C,b),A||(F=[se(i,"input",e[125]),se(_,"input",e[126])],A=!0)},p(w,b){b[0]&8&&l!==(l=w[3].accessToken+"")&&T(a,l),b[0]&8&&r!==(r=w[3].accessTokenPlaceholder)&&c(i,"placeholder",r),b[1]&1&&i.value!==w[31]&&ee(i,w[31]),b[0]&8&&p!==(p=w[3].folderPath+"")&&T(v,p),b[0]&8&&P!==(P=w[3].folderPathPlaceholder)&&c(_,"placeholder",P),b[1]&4&&_.value!==w[33]&&ee(_,w[33])},d(w){w&&(S(t),S(s),S(i),S(d),S(f),S(m),S(_),S(D),S(C)),A=!1,Ee(F)}}}function Ba(e){let t,l=e[3].accessToken+"",a,s,i,r,d,f,p=e[3].folderId+"",v,m,_,P,D,C,A,F;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("label"),v=h(p),m=g(),_=u("input"),D=g(),C=u("p"),C.textContent="Get OAuth2 token from Google Cloud Console. Leave folder ID empty for root.",c(t,"for","target-access-token"),c(i,"id","target-access-token"),c(i,"type","password"),c(i,"placeholder",r=e[3].accessTokenPlaceholder),c(f,"for","target-folder-id"),c(_,"id","target-folder-id"),c(_,"type","text"),c(_,"placeholder",P=e[3].folderIdPlaceholder),c(C,"class","muted small"),o(C,"margin-top","0.25rem"),o(C,"margin-bottom","0.75rem")},m(w,b){k(w,t,b),n(t,a),k(w,s,b),k(w,i,b),ee(i,e[31]),k(w,d,b),k(w,f,b),n(f,v),k(w,m,b),k(w,_,b),ee(_,e[32]),k(w,D,b),k(w,C,b),A||(F=[se(i,"input",e[123]),se(_,"input",e[124])],A=!0)},p(w,b){b[0]&8&&l!==(l=w[3].accessToken+"")&&T(a,l),b[0]&8&&r!==(r=w[3].accessTokenPlaceholder)&&c(i,"placeholder",r),b[1]&1&&i.value!==w[31]&&ee(i,w[31]),b[0]&8&&p!==(p=w[3].folderId+"")&&T(v,p),b[0]&8&&P!==(P=w[3].folderIdPlaceholder)&&c(_,"placeholder",P),b[1]&2&&_.value!==w[32]&&ee(_,w[32])},d(w){w&&(S(t),S(s),S(i),S(d),S(f),S(m),S(_),S(D),S(C)),A=!1,Ee(F)}}}function Ha(e){let t,l=e[3].webhookUrl+"",a,s,i,r,d,f,p,v;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("p"),f.textContent="Scanned file will be POSTed to this URL",c(t,"for","target-connection"),c(i,"id","target-connection"),c(i,"type","url"),c(i,"placeholder",r=e[3].webhookUrlPlaceholder),c(f,"class","muted small"),o(f,"margin-top","0.25rem"),o(f,"margin-bottom","0.75rem")},m(m,_){k(m,t,_),n(t,a),k(m,s,_),k(m,i,_),ee(i,e[19]),k(m,d,_),k(m,f,_),p||(v=se(i,"input",e[122]),p=!0)},p(m,_){_[0]&8&&l!==(l=m[3].webhookUrl+"")&&T(a,l),_[0]&8&&r!==(r=m[3].webhookUrlPlaceholder)&&c(i,"placeholder",r),_[0]&524288&&i.value!==m[19]&&ee(i,m[19])},d(m){m&&(S(t),S(s),S(i),S(d),S(f)),p=!1,v()}}}function Ea(e){let t,l=e[3].connection+"",a,s,i,r,d,f=e[3].apiToken+"",p,v,m,_,P,D,C,A;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),r=g(),d=u("label"),p=h(f),v=g(),m=u("input"),P=g(),D=u("p"),D.textContent="Get token from Paperless-ngx: Settings ‚Üí API Tokens",c(t,"for","target-connection"),c(i,"id","target-connection"),c(i,"type","text"),c(i,"placeholder","http://paperless.local:8000"),c(d,"for","target-api-token"),c(m,"id","target-api-token"),c(m,"type","password"),c(m,"placeholder",_=e[3].apiTokenPlaceholder),c(D,"class","muted small"),o(D,"margin-top","0.25rem"),o(D,"margin-bottom","0.75rem")},m(F,w){k(F,t,w),n(t,a),k(F,s,w),k(F,i,w),ee(i,e[19]),k(F,r,w),k(F,d,w),n(d,p),k(F,v,w),k(F,m,w),ee(m,e[30]),k(F,P,w),k(F,D,w),C||(A=[se(i,"input",e[120]),se(m,"input",e[121])],C=!0)},p(F,w){w[0]&8&&l!==(l=F[3].connection+"")&&T(a,l),w[0]&524288&&i.value!==F[19]&&ee(i,F[19]),w[0]&8&&f!==(f=F[3].apiToken+"")&&T(p,f),w[0]&8&&_!==(_=F[3].apiTokenPlaceholder)&&c(m,"placeholder",_),w[0]&1073741824&&m.value!==F[30]&&ee(m,F[30])},d(F){F&&(S(t),S(s),S(i),S(r),S(d),S(v),S(m),S(P),S(D)),C=!1,Ee(A)}}}function Oa(e){let t,l=e[3].emailTo+"",a,s,i,r,d,f,p=e[3].smtpHost+"",v,m,_,P,D,C,A=e[3].smtpPort+"",F,w,b,N,H,j,Z=e[3].username+"",B,z,U,O,E,R,G=e[3].password+"",W,M,y,le,Y,K,Q=e[3].emailFrom+"",fe,q,oe,J,te,Le,ge,de,pe=e[3].useTLS+"",X,ne,Ne;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("label"),v=h(p),m=g(),_=u("input"),D=g(),C=u("label"),F=h(A),w=g(),b=u("input"),H=g(),j=u("label"),B=h(Z),z=g(),U=u("input"),E=g(),R=u("label"),W=h(G),M=g(),y=u("input"),Y=g(),K=u("label"),fe=h(Q),q=g(),oe=u("input"),te=g(),Le=u("label"),ge=u("input"),de=g(),X=h(pe),c(t,"for","target-email-to"),c(i,"id","target-email-to"),c(i,"type","email"),c(i,"placeholder",r=e[3].emailToPlaceholder),c(f,"for","target-smtp-host"),c(_,"id","target-smtp-host"),c(_,"type","text"),c(_,"placeholder",P=e[3].smtpHostPlaceholder),c(C,"for","target-smtp-port"),c(b,"id","target-smtp-port"),c(b,"type","number"),c(b,"placeholder",N=e[3].smtpPortPlaceholder),c(j,"for","target-username"),c(U,"id","target-username"),c(U,"type","text"),c(U,"placeholder",O=e[3].usernamePlaceholder),c(R,"for","target-password"),c(y,"id","target-password"),c(y,"type","password"),c(y,"placeholder",le=e[3].passwordPlaceholder),c(K,"for","target-email-from"),c(oe,"id","target-email-from"),c(oe,"type","email"),c(oe,"placeholder",J=e[3].emailFromPlaceholder),c(ge,"type","checkbox"),o(Le,"display","flex"),o(Le,"align-items","center"),o(Le,"gap","0.5rem"),o(Le,"cursor","pointer")},m(x,ae){k(x,t,ae),n(t,a),k(x,s,ae),k(x,i,ae),ee(i,e[25]),k(x,d,ae),k(x,f,ae),n(f,v),k(x,m,ae),k(x,_,ae),ee(_,e[26]),k(x,D,ae),k(x,C,ae),n(C,F),k(x,w,ae),k(x,b,ae),ee(b,e[27]),k(x,H,ae),k(x,j,ae),n(j,B),k(x,z,ae),k(x,U,ae),ee(U,e[20]),k(x,E,ae),k(x,R,ae),n(R,W),k(x,M,ae),k(x,y,ae),ee(y,e[21]),k(x,Y,ae),k(x,K,ae),n(K,fe),k(x,q,ae),k(x,oe,ae),ee(oe,e[28]),k(x,te,ae),k(x,Le,ae),n(Le,ge),ge.checked=e[29],n(Le,de),n(Le,X),ne||(Ne=[se(i,"input",e[113]),se(_,"input",e[114]),se(b,"input",e[115]),se(U,"input",e[116]),se(y,"input",e[117]),se(oe,"input",e[118]),se(ge,"change",e[119])],ne=!0)},p(x,ae){ae[0]&8&&l!==(l=x[3].emailTo+"")&&T(a,l),ae[0]&8&&r!==(r=x[3].emailToPlaceholder)&&c(i,"placeholder",r),ae[0]&33554432&&i.value!==x[25]&&ee(i,x[25]),ae[0]&8&&p!==(p=x[3].smtpHost+"")&&T(v,p),ae[0]&8&&P!==(P=x[3].smtpHostPlaceholder)&&c(_,"placeholder",P),ae[0]&67108864&&_.value!==x[26]&&ee(_,x[26]),ae[0]&8&&A!==(A=x[3].smtpPort+"")&&T(F,A),ae[0]&8&&N!==(N=x[3].smtpPortPlaceholder)&&c(b,"placeholder",N),ae[0]&134217728&&Jt(b.value)!==x[27]&&ee(b,x[27]),ae[0]&8&&Z!==(Z=x[3].username+"")&&T(B,Z),ae[0]&8&&O!==(O=x[3].usernamePlaceholder)&&c(U,"placeholder",O),ae[0]&1048576&&U.value!==x[20]&&ee(U,x[20]),ae[0]&8&&G!==(G=x[3].password+"")&&T(W,G),ae[0]&8&&le!==(le=x[3].passwordPlaceholder)&&c(y,"placeholder",le),ae[0]&2097152&&y.value!==x[21]&&ee(y,x[21]),ae[0]&8&&Q!==(Q=x[3].emailFrom+"")&&T(fe,Q),ae[0]&8&&J!==(J=x[3].emailFromPlaceholder)&&c(oe,"placeholder",J),ae[0]&268435456&&oe.value!==x[28]&&ee(oe,x[28]),ae[0]&536870912&&(ge.checked=x[29]),ae[0]&8&&pe!==(pe=x[3].useTLS+"")&&T(X,pe)},d(x){x&&(S(t),S(s),S(i),S(d),S(f),S(m),S(_),S(D),S(C),S(w),S(b),S(H),S(j),S(z),S(U),S(E),S(R),S(M),S(y),S(Y),S(K),S(q),S(oe),S(te),S(Le)),ne=!1,Ee(Ne)}}}function Ja(e){let t,l=e[3].sftpHost+"",a,s,i,r,d,f,p=e[3].sftpPort+"",v,m,_,P,D,C,A=e[3].username+"",F,w,b,N,H,j,Z=e[3].password+"",B,z,U,O,E,R,G=e[3].remotePath+"",W,M,y,le,Y,K,Q=e[3].remotePathDesc+"",fe,q,oe;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),d=g(),f=u("label"),v=h(p),m=g(),_=u("input"),D=g(),C=u("label"),F=h(A),w=g(),b=u("input"),H=g(),j=u("label"),B=h(Z),z=g(),U=u("input"),E=g(),R=u("label"),W=h(G),M=g(),y=u("input"),Y=g(),K=u("p"),fe=h(Q),c(t,"for","target-sftp-host"),c(i,"id","target-sftp-host"),c(i,"type","text"),c(i,"placeholder",r=e[3].sftpHostPlaceholder),c(f,"for","target-sftp-port"),c(_,"id","target-sftp-port"),c(_,"type","number"),c(_,"placeholder",P=e[3].sftpPortPlaceholder),c(C,"for","target-username"),c(b,"id","target-username"),c(b,"type","text"),c(b,"placeholder",N=e[3].usernamePlaceholder),c(j,"for","target-password"),c(U,"id","target-password"),c(U,"type","password"),c(U,"placeholder",O=e[3].passwordPlaceholder),c(R,"for","target-remote-path"),c(y,"id","target-remote-path"),c(y,"type","text"),c(y,"placeholder",le=e[3].remotePathPlaceholder),c(K,"class","muted small"),o(K,"margin-top","0.25rem"),o(K,"margin-bottom","0.75rem")},m(J,te){k(J,t,te),n(t,a),k(J,s,te),k(J,i,te),ee(i,e[22]),k(J,d,te),k(J,f,te),n(f,v),k(J,m,te),k(J,_,te),ee(_,e[23]),k(J,D,te),k(J,C,te),n(C,F),k(J,w,te),k(J,b,te),ee(b,e[20]),k(J,H,te),k(J,j,te),n(j,B),k(J,z,te),k(J,U,te),ee(U,e[21]),k(J,E,te),k(J,R,te),n(R,W),k(J,M,te),k(J,y,te),ee(y,e[24]),k(J,Y,te),k(J,K,te),n(K,fe),q||(oe=[se(i,"input",e[108]),se(_,"input",e[109]),se(b,"input",e[110]),se(U,"input",e[111]),se(y,"input",e[112])],q=!0)},p(J,te){te[0]&8&&l!==(l=J[3].sftpHost+"")&&T(a,l),te[0]&8&&r!==(r=J[3].sftpHostPlaceholder)&&c(i,"placeholder",r),te[0]&4194304&&i.value!==J[22]&&ee(i,J[22]),te[0]&8&&p!==(p=J[3].sftpPort+"")&&T(v,p),te[0]&8&&P!==(P=J[3].sftpPortPlaceholder)&&c(_,"placeholder",P),te[0]&8388608&&Jt(_.value)!==J[23]&&ee(_,J[23]),te[0]&8&&A!==(A=J[3].username+"")&&T(F,A),te[0]&8&&N!==(N=J[3].usernamePlaceholder)&&c(b,"placeholder",N),te[0]&1048576&&b.value!==J[20]&&ee(b,J[20]),te[0]&8&&Z!==(Z=J[3].password+"")&&T(B,Z),te[0]&8&&O!==(O=J[3].passwordPlaceholder)&&c(U,"placeholder",O),te[0]&2097152&&U.value!==J[21]&&ee(U,J[21]),te[0]&8&&G!==(G=J[3].remotePath+"")&&T(W,G),te[0]&8&&le!==(le=J[3].remotePathPlaceholder)&&c(y,"placeholder",le),te[0]&16777216&&y.value!==J[24]&&ee(y,J[24]),te[0]&8&&Q!==(Q=J[3].remotePathDesc+"")&&T(fe,Q)},d(J){J&&(S(t),S(s),S(i),S(d),S(f),S(m),S(_),S(D),S(C),S(w),S(b),S(H),S(j),S(z),S(U),S(E),S(R),S(M),S(y),S(Y),S(K)),q=!1,Ee(oe)}}}function Wa(e){let t,l=e[3].connection+"",a,s,i,r,d,f,p,v=e[3].username+"",m,_,P,D,C,A,F=e[3].password+"",w,b,N,H,j,Z;return{c(){t=u("label"),a=h(l),s=g(),i=u("input"),r=g(),d=u("p"),d.innerHTML=`‚ö†Ô∏è <strong>Format:</strong> <code>//server/share</code> or <code>//server/share/subfolder</code><br/>
              ‚úÖ Examples: <code>//192.168.1.100/scans/consume</code> or <code>//nas.local/documents</code><br/>
              ‚ùå Wrong: <code>192.168.1.100/share</code> (missing //)<br/>
              üí° Tip: Start with <code>//</code> (two slashes!)`,f=g(),p=u("label"),m=h(v),_=g(),P=u("input"),C=g(),A=u("label"),w=h(F),b=g(),N=u("input"),c(t,"for","target-connection"),c(i,"id","target-connection"),c(i,"type","text"),c(i,"placeholder","//192.168.1.100/documents/inbox"),c(d,"class","muted small"),o(d,"margin-top","0.25rem"),o(d,"margin-bottom","0.75rem"),c(p,"for","target-username"),c(P,"id","target-username"),c(P,"type","text"),c(P,"placeholder",D=e[3].usernamePlaceholder),c(A,"for","target-password"),c(N,"id","target-password"),c(N,"type","password"),c(N,"placeholder",H=e[3].passwordPlaceholder)},m(B,z){k(B,t,z),n(t,a),k(B,s,z),k(B,i,z),ee(i,e[19]),k(B,r,z),k(B,d,z),k(B,f,z),k(B,p,z),n(p,m),k(B,_,z),k(B,P,z),ee(P,e[20]),k(B,C,z),k(B,A,z),n(A,w),k(B,b,z),k(B,N,z),ee(N,e[21]),j||(Z=[se(i,"input",e[105]),se(P,"input",e[106]),se(N,"input",e[107])],j=!0)},p(B,z){z[0]&8&&l!==(l=B[3].connection+"")&&T(a,l),z[0]&524288&&i.value!==B[19]&&ee(i,B[19]),z[0]&8&&v!==(v=B[3].username+"")&&T(m,v),z[0]&8&&D!==(D=B[3].usernamePlaceholder)&&c(P,"placeholder",D),z[0]&1048576&&P.value!==B[20]&&ee(P,B[20]),z[0]&8&&F!==(F=B[3].password+"")&&T(w,F),z[0]&8&&H!==(H=B[3].passwordPlaceholder)&&c(N,"placeholder",H),z[0]&2097152&&N.value!==B[21]&&ee(N,B[21])},d(B){B&&(S(t),S(s),S(i),S(r),S(d),S(f),S(p),S(_),S(P),S(C),S(A),S(b),S(N)),j=!1,Ee(Z)}}}function Ga(e){let t,l,a,s=e[3].deliveryTargets+"",i,r,d,f,p,v=e[3].addTarget+"",m,_,P,D,C=e[3].type+"",A,F,w,b,N,H,j,Z,B,z,U,O,E,R,G,W,M=e[3].name+"",y,le,Y,K,Q,fe,q,oe,J=e[3].testAndSave+"",te,Le,ge,de=e[3].saveWithoutTest+"",pe,X,ne,Ne=e[3].testSaveHint+"",x,ae,Ie;function be(ue,me){return ue[53]?ya:ue[5].length===0?Ma:za}let ke=be(e),we=ke(e);function je(ue,me){if(ue[17]==="SMB")return Wa;if(ue[17]==="SFTP")return Ja;if(ue[17]==="Email")return Oa;if(ue[17]==="Paperless-ngx")return Ea;if(ue[17]==="Webhook")return Ha;if(ue[17]==="Google Drive")return Ba;if(ue[17]==="Dropbox")return Ra;if(ue[17]==="OneDrive")return ja;if(ue[17]==="Nextcloud")return Ia}let Ce=je(e),ve=Ce&&Ce(e);return{c(){t=u("div"),l=u("div"),a=u("h3"),i=h(s),r=g(),we.c(),d=g(),f=u("div"),p=u("div"),m=h(v),_=g(),P=u("div"),D=u("label"),A=h(C),F=g(),w=u("select"),b=u("option"),b.textContent="SMB",N=u("option"),N.textContent="SFTP",H=u("option"),H.textContent="Email",j=u("option"),j.textContent="Paperless-ngx",Z=u("option"),Z.textContent="Webhook",B=u("optgroup"),z=u("option"),z.textContent="Google Drive",U=u("option"),U.textContent="Dropbox",O=u("option"),O.textContent="OneDrive",E=u("option"),E.textContent="Nextcloud",G=g(),W=u("label"),y=h(M),le=g(),Y=u("input"),Q=g(),ve&&ve.c(),fe=g(),q=u("div"),oe=u("button"),te=h(J),Le=g(),ge=u("button"),pe=h(de),X=g(),ne=u("p"),x=h(Ne),c(p,"class","panel-header"),c(D,"for","target-type"),b.__value="SMB",ee(b,b.__value),N.__value="SFTP",ee(N,N.__value),H.__value="Email",ee(H,H.__value),j.__value="Paperless-ngx",ee(j,j.__value),Z.__value="Webhook",ee(Z,Z.__value),z.__value="Google Drive",ee(z,z.__value),U.__value="Dropbox",ee(U,U.__value),O.__value="OneDrive",ee(O,O.__value),E.__value="Nextcloud",ee(E,E.__value),c(B,"label",R=e[3].cloudTarget),c(w,"id","target-type"),e[17]===void 0&&Nt(()=>e[103].call(w)),c(W,"for","target-name"),c(Y,"id","target-name"),c(Y,"type","text"),c(Y,"placeholder",K=e[3].namePlaceholder),c(oe,"class","primary"),o(oe,"flex","1"),c(ge,"class","ghost"),o(ge,"flex","1"),o(q,"display","flex"),o(q,"gap","0.5rem"),o(ne,"font-size","0.85rem"),o(ne,"color","#888"),o(ne,"margin-top","0.5rem"),c(P,"class","panel-body"),c(f,"class","panel"),c(t,"class","grid two-cols")},m(ue,me){k(ue,t,me),n(t,l),n(l,a),n(a,i),n(l,r),we.m(l,null),n(t,d),n(t,f),n(f,p),n(p,m),n(f,_),n(f,P),n(P,D),n(D,A),n(P,F),n(P,w),n(w,b),n(w,N),n(w,H),n(w,j),n(w,Z),n(w,B),n(B,z),n(B,U),n(B,O),n(B,E),nt(w,e[17],!0),n(P,G),n(P,W),n(W,y),n(P,le),n(P,Y),ee(Y,e[18]),n(P,Q),ve&&ve.m(P,null),n(P,fe),n(P,q),n(q,oe),n(oe,te),n(q,Le),n(q,ge),n(ge,pe),n(P,X),n(P,ne),n(ne,x),ae||(Ie=[se(w,"change",e[103]),se(Y,"input",e[104]),se(oe,"click",e[133]),se(ge,"click",e[134])],ae=!0)},p(ue,me){me[0]&8&&s!==(s=ue[3].deliveryTargets+"")&&T(i,s),ke===(ke=be(ue))&&we?we.p(ue,me):(we.d(1),we=ke(ue),we&&(we.c(),we.m(l,null))),me[0]&8&&v!==(v=ue[3].addTarget+"")&&T(m,v),me[0]&8&&C!==(C=ue[3].type+"")&&T(A,C),me[0]&8&&R!==(R=ue[3].cloudTarget)&&c(B,"label",R),me[0]&131072&&nt(w,ue[17]),me[0]&8&&M!==(M=ue[3].name+"")&&T(y,M),me[0]&8&&K!==(K=ue[3].namePlaceholder)&&c(Y,"placeholder",K),me[0]&262144&&Y.value!==ue[18]&&ee(Y,ue[18]),Ce===(Ce=je(ue))&&ve?ve.p(ue,me):(ve&&ve.d(1),ve=Ce&&Ce(ue),ve&&(ve.c(),ve.m(P,fe))),me[0]&8&&J!==(J=ue[3].testAndSave+"")&&T(te,J),me[0]&8&&de!==(de=ue[3].saveWithoutTest+"")&&T(pe,de),me[0]&8&&Ne!==(Ne=ue[3].testSaveHint+"")&&T(x,Ne)},d(ue){ue&&S(t),we.d(),ve&&ve.d(),ae=!1,Ee(Ie)}}}function Za(e){let t;return{c(){t=u("p"),t.textContent="No statistics available yet. Start scanning to see analytics.",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function Va(e){let t,l,a=e[3].overview+"",s,i,r,d,f,p=(e[43].total_scans||0)+"",v,m,_,P=e[3].totalScans+"",D,C,A,F,w=(e[43].success_rate||0)+"",b,N,H,j,Z=e[3].successRate+"",B,z,U,O,E=(e[43].average_scans_per_day||0)+"",R,G,W,M=e[3].avgScansPerDay+"",y,le,Y,K,Q,fe=e[3].mostUsedScanner+"",q,oe,J,te=(e[43].most_used_scanner?ot(e[43].most_used_scanner):"N/A")+"",Le,ge,de,pe,X=e[3].mostUsedTarget+"",ne,Ne,x,ae=(e[43].most_used_target||"N/A")+"",Ie,be,ke,we,je,Ce,ve=e[44].length>0&&Vl(e),ue=e[45].length>0&&Yl(e),me=e[46].length>0&&Kl(e),Ae=e[47].length>0&&$l(qt(e));return{c(){t=u("div"),l=u("h3"),s=h(a),i=g(),r=u("div"),d=u("div"),f=u("div"),v=h(p),m=g(),_=u("div"),D=h(P),C=g(),A=u("div"),F=u("div"),b=h(w),N=h("%"),H=g(),j=u("div"),B=h(Z),z=g(),U=u("div"),O=u("div"),R=h(E),G=g(),W=u("div"),y=h(M),le=g(),Y=u("div"),K=u("div"),Q=u("div"),q=h(fe),oe=g(),J=u("div"),Le=h(te),ge=g(),de=u("div"),pe=u("div"),ne=h(X),Ne=g(),x=u("div"),Ie=h(ae),be=g(),ve&&ve.c(),ke=g(),ue&&ue.c(),we=g(),me&&me.c(),je=g(),Ae&&Ae.c(),Ce=Bt(),o(f,"font-size","2.5rem"),o(f,"font-weight","700"),o(f,"color","var(--primary)"),c(_,"class","muted"),c(d,"class","card"),o(d,"padding","1.5rem"),o(d,"text-align","center"),o(F,"font-size","2.5rem"),o(F,"font-weight","700"),o(F,"color","var(--success)"),c(j,"class","muted"),c(A,"class","card"),o(A,"padding","1.5rem"),o(A,"text-align","center"),o(O,"font-size","2.5rem"),o(O,"font-weight","700"),o(O,"color","var(--info)"),c(W,"class","muted"),c(U,"class","card"),o(U,"padding","1.5rem"),o(U,"text-align","center"),c(r,"class","grid"),o(r,"grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))"),o(r,"gap","1rem"),o(r,"margin-bottom","2rem"),o(Q,"font-size","0.875rem"),o(Q,"font-weight","600"),o(Q,"margin-bottom","0.5rem"),o(Q,"color","var(--muted)"),o(J,"font-size","1.25rem"),o(J,"font-weight","600"),c(K,"class","card"),o(K,"padding","1.5rem"),o(pe,"font-size","0.875rem"),o(pe,"font-weight","600"),o(pe,"margin-bottom","0.5rem"),o(pe,"color","var(--muted)"),o(x,"font-size","1.25rem"),o(x,"font-weight","600"),c(de,"class","card"),o(de,"padding","1.5rem"),c(Y,"class","grid two-cols"),o(Y,"margin-bottom","2rem"),o(t,"margin-bottom","2rem")},m(re,Pe){k(re,t,Pe),n(t,l),n(l,s),n(t,i),n(t,r),n(r,d),n(d,f),n(f,v),n(d,m),n(d,_),n(_,D),n(r,C),n(r,A),n(A,F),n(F,b),n(F,N),n(A,H),n(A,j),n(j,B),n(r,z),n(r,U),n(U,O),n(O,R),n(U,G),n(U,W),n(W,y),n(t,le),n(t,Y),n(Y,K),n(K,Q),n(Q,q),n(K,oe),n(K,J),n(J,Le),n(Y,ge),n(Y,de),n(de,pe),n(pe,ne),n(de,Ne),n(de,x),n(x,Ie),k(re,be,Pe),ve&&ve.m(re,Pe),k(re,ke,Pe),ue&&ue.m(re,Pe),k(re,we,Pe),me&&me.m(re,Pe),k(re,je,Pe),Ae&&Ae.m(re,Pe),k(re,Ce,Pe)},p(re,Pe){Pe[0]&8&&a!==(a=re[3].overview+"")&&T(s,a),Pe[1]&4096&&p!==(p=(re[43].total_scans||0)+"")&&T(v,p),Pe[0]&8&&P!==(P=re[3].totalScans+"")&&T(D,P),Pe[1]&4096&&w!==(w=(re[43].success_rate||0)+"")&&T(b,w),Pe[0]&8&&Z!==(Z=re[3].successRate+"")&&T(B,Z),Pe[1]&4096&&E!==(E=(re[43].average_scans_per_day||0)+"")&&T(R,E),Pe[0]&8&&M!==(M=re[3].avgScansPerDay+"")&&T(y,M),Pe[0]&8&&fe!==(fe=re[3].mostUsedScanner+"")&&T(q,fe),Pe[1]&4096&&te!==(te=(re[43].most_used_scanner?ot(re[43].most_used_scanner):"N/A")+"")&&T(Le,te),Pe[0]&8&&X!==(X=re[3].mostUsedTarget+"")&&T(ne,X),Pe[1]&4096&&ae!==(ae=(re[43].most_used_target||"N/A")+"")&&T(Ie,ae),re[44].length>0?ve?ve.p(re,Pe):(ve=Vl(re),ve.c(),ve.m(ke.parentNode,ke)):ve&&(ve.d(1),ve=null),re[45].length>0?ue?ue.p(re,Pe):(ue=Yl(re),ue.c(),ue.m(we.parentNode,we)):ue&&(ue.d(1),ue=null),re[46].length>0?me?me.p(re,Pe):(me=Kl(re),me.c(),me.m(je.parentNode,je)):me&&(me.d(1),me=null),re[47].length>0?Ae?Ae.p(qt(re),Pe):(Ae=$l(qt(re)),Ae.c(),Ae.m(Ce.parentNode,Ce)):Ae&&(Ae.d(1),Ae=null)},d(re){re&&(S(t),S(be),S(ke),S(we),S(je),S(Ce)),ve&&ve.d(re),ue&&ue.d(re),me&&me.d(re),Ae&&Ae.d(re)}}}function qa(e){let t;return{c(){t=u("p"),t.textContent="‚è≥ Loading statistics...",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function Vl(e){let t,l,a=e[3].timeline+"",s,i,r,d,f,p=e[3].date+"",v,m,_,P=e[3].total+"",D,C,A,F=e[3].successful+"",w,b,N,H=e[3].failed+"",j,Z,B=Fe(e[44].slice(0,10)),z=[];for(let U=0;U<B.length;U+=1)z[U]=ql(ol(e,B,U));return{c(){t=u("div"),l=u("h3"),s=h(a),i=g(),r=u("div"),d=u("div"),f=u("div"),v=h(p),m=g(),_=u("div"),D=h(P),C=g(),A=u("div"),w=h(F),b=g(),N=u("div"),j=h(H),Z=g();for(let U=0;U<z.length;U+=1)z[U].c();o(f,"font-weight","600"),o(f,"padding","0.5rem"),o(f,"border-bottom","2px solid var(--border)"),o(_,"font-weight","600"),o(_,"padding","0.5rem"),o(_,"border-bottom","2px solid var(--border)"),o(_,"text-align","center"),o(A,"font-weight","600"),o(A,"padding","0.5rem"),o(A,"border-bottom","2px solid var(--border)"),o(A,"text-align","center"),o(N,"font-weight","600"),o(N,"padding","0.5rem"),o(N,"border-bottom","2px solid var(--border)"),o(N,"text-align","center"),o(d,"display","grid"),o(d,"grid-template-columns","120px repeat(3, 1fr)"),o(d,"gap","0.5rem"),o(d,"font-size","0.875rem"),c(r,"class","card"),o(r,"padding","1.5rem"),o(t,"margin-bottom","2rem")},m(U,O){k(U,t,O),n(t,l),n(l,s),n(t,i),n(t,r),n(r,d),n(d,f),n(f,v),n(d,m),n(d,_),n(_,D),n(d,C),n(d,A),n(A,w),n(d,b),n(d,N),n(N,j),n(d,Z);for(let E=0;E<z.length;E+=1)z[E]&&z[E].m(d,null)},p(U,O){if(O[0]&8&&a!==(a=U[3].timeline+"")&&T(s,a),O[0]&8&&p!==(p=U[3].date+"")&&T(v,p),O[0]&8&&P!==(P=U[3].total+"")&&T(D,P),O[0]&8&&F!==(F=U[3].successful+"")&&T(w,F),O[0]&8&&H!==(H=U[3].failed+"")&&T(j,H),O[1]&8192){B=Fe(U[44].slice(0,10));let E;for(E=0;E<B.length;E+=1){const R=ol(U,B,E);z[E]?z[E].p(R,O):(z[E]=ql(R),z[E].c(),z[E].m(d,null))}for(;E<z.length;E+=1)z[E].d(1);z.length=B.length}},d(U){U&&S(t),qe(z,U)}}}function ql(e){let t,l=e[175].date+"",a,s,i,r=e[175].total+"",d,f,p,v=e[175].successful+"",m,_,P,D=e[175].failed+"",C;return{c(){t=u("div"),a=h(l),s=g(),i=u("div"),d=h(r),f=g(),p=u("div"),m=h(v),_=g(),P=u("div"),C=h(D),o(t,"padding","0.5rem"),o(i,"padding","0.5rem"),o(i,"text-align","center"),o(p,"padding","0.5rem"),o(p,"text-align","center"),o(p,"color","var(--success)"),o(P,"padding","0.5rem"),o(P,"text-align","center"),o(P,"color","var(--danger)")},m(A,F){k(A,t,F),n(t,a),k(A,s,F),k(A,i,F),n(i,d),k(A,f,F),k(A,p,F),n(p,m),k(A,_,F),k(A,P,F),n(P,C)},p(A,F){F[1]&8192&&l!==(l=A[175].date+"")&&T(a,l),F[1]&8192&&r!==(r=A[175].total+"")&&T(d,r),F[1]&8192&&v!==(v=A[175].successful+"")&&T(m,v),F[1]&8192&&D!==(D=A[175].failed+"")&&T(C,D)},d(A){A&&(S(t),S(s),S(i),S(f),S(p),S(_),S(P))}}}function Yl(e){let t,l,a=e[3].scannerStats+"",s,i,r,d=Fe(e[45]),f=[];for(let p=0;p<d.length;p+=1)f[p]=Ql(sl(e,d,p));return{c(){t=u("div"),l=u("h3"),s=h(a),i=g(),r=u("ul");for(let p=0;p<f.length;p+=1)f[p].c();c(r,"class","list"),o(t,"margin-bottom","2rem")},m(p,v){k(p,t,v),n(t,l),n(l,s),n(t,i),n(t,r);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,null)},p(p,v){if(v[0]&8&&a!==(a=p[3].scannerStats+"")&&T(s,a),v[0]&8|v[1]&16384){d=Fe(p[45]);let m;for(m=0;m<d.length;m+=1){const _=sl(p,d,m);f[m]?f[m].p(_,v):(f[m]=Ql(_),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}},d(p){p&&S(t),qe(f,p)}}}function Ql(e){let t,l,a=ot(e[172].scanner)+"",s,i,r,d=e[3].scans+"",f,p,v=e[172].total_scans+"",m,_,P=e[3].successful+"",D,C,A=e[172].successful+"",F,w,b=e[172].success_rate+"",N,H,j=e[3].lastUsed+"",Z,B,z=new Date(e[172].last_used).toLocaleDateString()+"",U,O;return{c(){t=u("li"),l=u("div"),s=h(a),i=g(),r=u("div"),f=h(d),p=h(": "),m=h(v),_=h(` ¬∑ 
                  `),D=h(P),C=h(": "),F=h(A),w=h(" ("),N=h(b),H=h(`%) ¬∑ 
                  `),Z=h(j),B=h(": "),U=h(z),O=g(),c(l,"class","list-title"),c(r,"class","muted")},m(E,R){k(E,t,R),n(t,l),n(l,s),n(t,i),n(t,r),n(r,f),n(r,p),n(r,m),n(r,_),n(r,D),n(r,C),n(r,F),n(r,w),n(r,N),n(r,H),n(r,Z),n(r,B),n(r,U),n(t,O)},p(E,R){R[1]&16384&&a!==(a=ot(E[172].scanner)+"")&&T(s,a),R[0]&8&&d!==(d=E[3].scans+"")&&T(f,d),R[1]&16384&&v!==(v=E[172].total_scans+"")&&T(m,v),R[0]&8&&P!==(P=E[3].successful+"")&&T(D,P),R[1]&16384&&A!==(A=E[172].successful+"")&&T(F,A),R[1]&16384&&b!==(b=E[172].success_rate+"")&&T(N,b),R[0]&8&&j!==(j=E[3].lastUsed+"")&&T(Z,j),R[1]&16384&&z!==(z=new Date(E[172].last_used).toLocaleDateString()+"")&&T(U,z)},d(E){E&&S(t)}}}function Kl(e){let t,l,a=e[3].targetStats+"",s,i,r,d=Fe(e[46]),f=[];for(let p=0;p<d.length;p+=1)f[p]=Xl(il(e,d,p));return{c(){t=u("div"),l=u("h3"),s=h(a),i=g(),r=u("ul");for(let p=0;p<f.length;p+=1)f[p].c();c(r,"class","list"),o(t,"margin-bottom","2rem")},m(p,v){k(p,t,v),n(t,l),n(l,s),n(t,i),n(t,r);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,null)},p(p,v){if(v[0]&8&&a!==(a=p[3].targetStats+"")&&T(s,a),v[0]&8|v[1]&32768|v[2]&2048){d=Fe(p[46]);let m;for(m=0;m<d.length;m+=1){const _=il(p,d,m);f[m]?f[m].p(_,v):(f[m]=Xl(_),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}},d(p){p&&S(t),qe(f,p)}}}function Xl(e){let t,l,a,s=e[169].target+"",i,r,d,f=e[3].deliveriesLabel+"",p,v,m=e[169].total_deliveries+"",_,P,D=e[3].successful+"",C,A,F=e[169].successful+"",w,b,N=e[169].success_rate+"",H,j,Z=e[3].lastUsed+"",B,z,U=new Date(e[169].last_used).toLocaleDateString()+"",O,E,R,G,W,M,y,le;function Y(){return e[135](e[169])}return{c(){t=u("li"),l=u("div"),a=u("div"),i=h(s),r=g(),d=u("div"),p=h(f),v=h(": "),_=h(m),P=h(` ¬∑ 
                    `),C=h(D),A=h(": "),w=h(F),b=h(" ("),H=h(N),j=h(`%) ¬∑ 
                    `),B=h(Z),z=h(": "),O=h(U),E=g(),R=u("button"),G=h("üóëÔ∏è"),M=g(),c(a,"class","list-title"),c(d,"class","muted"),o(l,"flex","1"),c(R,"class","danger small"),o(R,"margin-left","1rem"),c(R,"title",W=e[3].deleteTargetStats),o(t,"display","flex"),o(t,"justify-content","space-between"),o(t,"align-items","center")},m(K,Q){k(K,t,Q),n(t,l),n(l,a),n(a,i),n(l,r),n(l,d),n(d,p),n(d,v),n(d,_),n(d,P),n(d,C),n(d,A),n(d,w),n(d,b),n(d,H),n(d,j),n(d,B),n(d,z),n(d,O),n(t,E),n(t,R),n(R,G),n(t,M),y||(le=se(R,"click",Y),y=!0)},p(K,Q){e=K,Q[1]&32768&&s!==(s=e[169].target+"")&&T(i,s),Q[0]&8&&f!==(f=e[3].deliveriesLabel+"")&&T(p,f),Q[1]&32768&&m!==(m=e[169].total_deliveries+"")&&T(_,m),Q[0]&8&&D!==(D=e[3].successful+"")&&T(C,D),Q[1]&32768&&F!==(F=e[169].successful+"")&&T(w,F),Q[1]&32768&&N!==(N=e[169].success_rate+"")&&T(H,N),Q[0]&8&&Z!==(Z=e[3].lastUsed+"")&&T(B,Z),Q[1]&32768&&U!==(U=new Date(e[169].last_used).toLocaleDateString()+"")&&T(O,U),Q[0]&8&&W!==(W=e[3].deleteTargetStats)&&c(R,"title",W)},d(K){K&&S(t),y=!1,le()}}}function $l(e){let t,l,a=e[3].hourlyDistribution+"",s,i,r,d,f,p,v=e[164]+"",m,_,P,D=Math.round(e[164]*.75)+"",C,A,F,w=Math.round(e[164]*.5)+"",b,N,H,j=Math.round(e[164]*.25)+"",Z,B,z,U,O,E=Fe(e[47]),R=[];for(let G=0;G<E.length;G+=1)R[G]=en(al(e,E,G));return{c(){t=u("div"),l=u("h3"),s=h(a),i=g(),r=u("div"),d=u("div"),f=u("div"),p=u("div"),m=h(v),_=g(),P=u("div"),C=h(D),A=g(),F=u("div"),b=h(w),N=g(),H=u("div"),Z=h(j),B=g(),z=u("div"),z.textContent="0",U=g(),O=u("div");for(let G=0;G<R.length;G+=1)R[G].c();o(p,"font-size","0.7rem"),o(p,"color","var(--muted)"),o(p,"text-align","right"),o(P,"font-size","0.7rem"),o(P,"color","var(--muted)"),o(P,"text-align","right"),o(F,"font-size","0.7rem"),o(F,"color","var(--muted)"),o(F,"text-align","right"),o(H,"font-size","0.7rem"),o(H,"color","var(--muted)"),o(H,"text-align","right"),o(z,"font-size","0.7rem"),o(z,"color","var(--muted)"),o(z,"text-align","right"),o(f,"display","flex"),o(f,"flex-direction","column"),o(f,"justify-content","space-between"),o(f,"height","150px"),o(f,"padding-right","0.5rem"),o(f,"border-right","1px solid var(--border)"),o(O,"flex","1"),o(O,"display","flex"),o(O,"align-items","flex-end"),o(O,"gap","0.25rem"),o(O,"height","150px"),o(d,"display","flex"),o(d,"gap","1rem"),c(r,"class","card"),o(r,"padding","1.5rem")},m(G,W){k(G,t,W),n(t,l),n(l,s),n(t,i),n(t,r),n(r,d),n(d,f),n(f,p),n(p,m),n(f,_),n(f,P),n(P,C),n(f,A),n(f,F),n(F,b),n(f,N),n(f,H),n(H,Z),n(f,B),n(f,z),n(d,U),n(d,O);for(let M=0;M<R.length;M+=1)R[M]&&R[M].m(O,null)},p(G,W){if(W[0]&8&&a!==(a=G[3].hourlyDistribution+"")&&T(s,a),W[1]&65536&&v!==(v=G[164]+"")&&T(m,v),W[1]&65536&&D!==(D=Math.round(G[164]*.75)+"")&&T(C,D),W[1]&65536&&w!==(w=Math.round(G[164]*.5)+"")&&T(b,w),W[1]&65536&&j!==(j=Math.round(G[164]*.25)+"")&&T(Z,j),W[0]&1|W[1]&65536){E=Fe(G[47]);let M;for(M=0;M<E.length;M+=1){const y=al(G,E,M);R[M]?R[M].p(y,W):(R[M]=en(y),R[M].c(),R[M].m(O,null))}for(;M<R.length;M+=1)R[M].d(1);R.length=E.length}},d(G){G&&S(t),qe(R,G)}}}function xl(e){let t,l;return{c(){t=u("div"),o(t,"width","100%"),o(t,"background","linear-gradient(180deg, #667eea 0%, #764ba2 100%)"),o(t,"border-radius","4px 4px 0 0"),o(t,"height",e[166]+"px"),o(t,"min-height","8px"),o(t,"transition","all 0.3s ease"),c(t,"title",l=e[165].hour+":00 - "+e[165].count+" "+(e[0]==="de"?"Scans":"scans"))},m(a,s){k(a,t,s)},p(a,s){s[1]&65536&&o(t,"height",a[166]+"px"),s[0]&1|s[1]&65536&&l!==(l=a[165].hour+":00 - "+a[165].count+" "+(a[0]==="de"?"Scans":"scans"))&&c(t,"title",l)},d(a){a&&S(t)}}}function en(e){let t,l,a,s=e[165].hour+"",i,r,d=e[165].count>0&&xl(e);return{c(){t=u("div"),d&&d.c(),l=g(),a=u("div"),i=h(s),r=g(),o(a,"font-size","0.7rem"),o(a,"margin-top","0.25rem"),o(a,"color","var(--muted)"),o(t,"flex","1"),o(t,"display","flex"),o(t,"flex-direction","column"),o(t,"justify-content","flex-end"),o(t,"align-items","center")},m(f,p){k(f,t,p),d&&d.m(t,null),n(t,l),n(t,a),n(a,i),n(t,r)},p(f,p){f[165].count>0?d?d.p(f,p):(d=xl(f),d.c(),d.m(t,l)):d&&(d.d(1),d=null),p[1]&65536&&s!==(s=f[165].hour+"")&&T(i,s)},d(f){f&&S(t),d&&d.d()}}}function Ya(e){let t;function l(i,r){return i[48]?qa:i[43]?Va:Za}let a=l(e),s=a(e);return{c(){s.c(),t=Bt()},m(i,r){s.m(i,r),k(i,t,r)},p(i,r){a===(a=l(i))&&s?s.p(i,r):(s.d(1),s=a(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){i&&S(t),s.d(i)}}}function Qa(e){let t,l,a,s=e[3].clearHistory+"",i,r,d,f,p,v=e[3].id+"",m,_,P,D=e[3].type+"",C,A,F,w=e[3].device+"",b,N,H,j=e[3].target+"",Z,B,z,U=e[3].time+"",O,E,R,G=e[3].status+"",W,M,y,le,Y,K,Q=Fe(e[6]),fe=[];for(let q=0;q<Q.length;q+=1)fe[q]=ln(nl(e,Q,q));return{c(){t=u("div"),l=u("button"),a=h("üóëÔ∏è "),i=h(s),r=g(),d=u("div"),f=u("div"),p=u("span"),m=h(v),_=g(),P=u("span"),C=h(D),A=g(),F=u("span"),b=h(w),N=g(),H=u("span"),Z=h(j),B=g(),z=u("span"),O=h(U),E=g(),R=u("span"),W=h(G),M=g(),y=u("span"),le=g();for(let q=0;q<fe.length;q+=1)fe[q].c();c(l,"class","danger small"),o(t,"display","flex"),o(t,"justify-content","flex-end"),o(t,"margin-bottom","1rem"),o(f,"display","grid"),o(f,"grid-template-columns","100px 80px 1fr 1fr 180px 200px 60px"),o(f,"gap","1rem"),o(f,"padding","0.75rem 1rem"),o(f,"font-weight","600"),o(f,"border-bottom","2px solid var(--border)"),o(f,"background","var(--surface-dim)"),c(d,"class","table"),o(d,"display","block")},m(q,oe){k(q,t,oe),n(t,l),n(l,a),n(l,i),k(q,r,oe),k(q,d,oe),n(d,f),n(f,p),n(p,m),n(f,_),n(f,P),n(P,C),n(f,A),n(f,F),n(F,b),n(f,N),n(f,H),n(H,Z),n(f,B),n(f,z),n(z,O),n(f,E),n(f,R),n(R,W),n(f,M),n(f,y),n(d,le);for(let J=0;J<fe.length;J+=1)fe[J]&&fe[J].m(d,null);Y||(K=se(l,"click",e[70]),Y=!0)},p(q,oe){if(oe[0]&8&&s!==(s=q[3].clearHistory+"")&&T(i,s),oe[0]&8&&v!==(v=q[3].id+"")&&T(m,v),oe[0]&8&&D!==(D=q[3].type+"")&&T(C,D),oe[0]&8&&w!==(w=q[3].device+"")&&T(b,w),oe[0]&8&&j!==(j=q[3].target+"")&&T(Z,j),oe[0]&8&&U!==(U=q[3].time+"")&&T(O,U),oe[0]&8&&G!==(G=q[3].status+"")&&T(W,G),oe[0]&104|oe[2]&1152){Q=Fe(q[6]);let J;for(J=0;J<Q.length;J+=1){const te=nl(q,Q,J);fe[J]?fe[J].p(te,oe):(fe[J]=ln(te),fe[J].c(),fe[J].m(d,null))}for(;J<fe.length;J+=1)fe[J].d(1);fe.length=Q.length}},d(q){q&&(S(t),S(r),S(d)),qe(fe,q),Y=!1,K()}}}function Ka(e){let t;return{c(){t=u("p"),t.textContent="No jobs in history yet.",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function Xa(e){let t;return{c(){t=u("p"),t.textContent="‚è≥ Loading history...",c(t,"class","muted")},m(l,a){k(l,t,a)},p:Xe,d(l){l&&S(t)}}}function tn(e){let t,l,a=e[161].message+"",s,i,r,d,f;function p(){return e[137](e[161])}return{c(){t=u("div"),l=h("‚ùå "),s=h(a),i=g(),r=u("button"),r.textContent="üîÑ Retry Upload",o(t,"margin-top","0.5rem"),o(t,"font-size","0.8rem"),o(t,"color","var(--danger)"),o(t,"padding","0.5rem"),o(t,"background","rgba(255, 100, 100, 0.1)"),o(t,"border-radius","4px"),o(t,"border","1px solid rgba(255, 100, 100, 0.3)"),c(r,"class","primary small"),o(r,"margin-top","0.5rem"),o(r,"width","100%")},m(v,m){k(v,t,m),n(t,l),n(t,s),k(v,i,m),k(v,r,m),d||(f=se(r,"click",p),d=!0)},p(v,m){e=v,m[0]&64&&a!==(a=e[161].message+"")&&T(s,a)},d(v){v&&(S(t),S(i),S(r)),d=!1,f()}}}function ln(e){var q;let t,l,a=e[161].id.slice(0,8)+"",s,i,r,d=e[161].job_type+"",f,p,v,m=(e[161].device_id?ot(e[161].device_id):"N/A")+"",_,P,D,C,A=(((q=e[5].find(K))==null?void 0:q.name)||e[161].target_id||"N/A")+"",F,w,b,N=new Date(e[161].created_at+"Z").toLocaleString()+"",H,j,Z,B,z=(e[161].status==="completed"&&e[161].message?e[3].uploadFailed:e[161].status==="completed"?e[3].completed:e[161].status==="failed"?e[3].failed:e[161].status==="cancelled"?e[3].cancelled:e[161].status)+"",U,O,E,R,G,W,M,y,le,Y;function K(...oe){return e[136](e[161],...oe)}let Q=e[161].message&&tn(e);function fe(){return e[138](e[161])}return{c(){t=u("div"),l=u("span"),s=h(a),i=g(),r=u("span"),f=h(d),p=g(),v=u("span"),_=h(m),D=g(),C=u("span"),F=h(A),w=g(),b=u("span"),H=h(N),j=g(),Z=u("div"),B=u("span"),U=h(z),E=g(),Q&&Q.c(),R=g(),G=u("button"),W=h("üóëÔ∏è"),y=g(),o(l,"font-family","monospace"),o(l,"font-size","0.875rem"),o(r,"font-size","0.875rem"),o(v,"font-size","0.875rem"),o(v,"overflow","hidden"),o(v,"text-overflow","ellipsis"),c(v,"title",P=e[161].device_id),o(C,"font-size","0.875rem"),o(b,"font-size","0.875rem"),c(B,"class",O=`badge ${e[161].status==="completed"&&!e[161].message?"success":e[161].status==="failed"?"danger":(e[161].status==="cancelled"||e[161].message,"warning")}`),c(G,"class","danger small"),o(G,"width","40px"),o(G,"height","40px"),o(G,"padding","0.25rem"),c(G,"title",M=e[3].deleteJob),o(t,"display","grid"),o(t,"grid-template-columns","100px 80px 1fr 1fr 180px 200px 60px"),o(t,"gap","1rem"),o(t,"padding","0.75rem 1rem"),o(t,"border-bottom","1px solid var(--border)"),o(t,"align-items","start")},m(oe,J){k(oe,t,J),n(t,l),n(l,s),n(t,i),n(t,r),n(r,f),n(t,p),n(t,v),n(v,_),n(t,D),n(t,C),n(C,F),n(t,w),n(t,b),n(b,H),n(t,j),n(t,Z),n(Z,B),n(B,U),n(Z,E),Q&&Q.m(Z,null),n(t,R),n(t,G),n(G,W),n(t,y),le||(Y=se(G,"click",fe),le=!0)},p(oe,J){var te;e=oe,J[0]&64&&a!==(a=e[161].id.slice(0,8)+"")&&T(s,a),J[0]&64&&d!==(d=e[161].job_type+"")&&T(f,d),J[0]&64&&m!==(m=(e[161].device_id?ot(e[161].device_id):"N/A")+"")&&T(_,m),J[0]&64&&P!==(P=e[161].device_id)&&c(v,"title",P),J[0]&96&&A!==(A=(((te=e[5].find(K))==null?void 0:te.name)||e[161].target_id||"N/A")+"")&&T(F,A),J[0]&64&&N!==(N=new Date(e[161].created_at+"Z").toLocaleString()+"")&&T(H,N),J[0]&72&&z!==(z=(e[161].status==="completed"&&e[161].message?e[3].uploadFailed:e[161].status==="completed"?e[3].completed:e[161].status==="failed"?e[3].failed:e[161].status==="cancelled"?e[3].cancelled:e[161].status)+"")&&T(U,z),J[0]&64&&O!==(O=`badge ${e[161].status==="completed"&&!e[161].message?"success":e[161].status==="failed"?"danger":(e[161].status==="cancelled"||e[161].message,"warning")}`)&&c(B,"class",O),e[161].message?Q?Q.p(e,J):(Q=tn(e),Q.c(),Q.m(Z,null)):Q&&(Q.d(1),Q=null),J[0]&8&&M!==(M=e[3].deleteJob)&&c(G,"title",M)},d(oe){oe&&S(t),Q&&Q.d(),le=!1,Y()}}}function $a(e){let t;function l(i,r){return i[54]?Xa:i[6].length===0?Ka:Qa}let a=l(e),s=a(e);return{c(){s.c(),t=Bt()},m(i,r){s.m(i,r),k(i,t,r)},p(i,r){a===(a=l(i))&&s?s.p(i,r):(s.d(1),s=a(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){i&&S(t),s.d(i)}}}function xa(e){let t,l,a,s,i,r,d=e[3].heroTagline+"",f,p,v,m=e[3].heroTitle+"",_,P,D,C=e[3].heroDescription+"",A,F,w,b,N=e[3].startScan+"",H,j,Z,B,z,U,O=e[3].liveStatus+"",E,R,G,W,M,y,le,Y,K,Q,fe,q,oe,J,te,Le,ge;t=new aa({props:{brand:e[3].brand,links:e[56],currentLang:e[0],onLanguageChange:e[57]}});let de=(!e[10]||!e[12])&&gl(e);G=new ua({props:{cards:e[7]}}),M=new Rt({props:{id:"scan",title:e[3].scan,subtitle:e[3].scanSubtitle,$$slots:{default:[Ta]},$$scope:{ctx:e}}});let pe=e[49]&&Bl(e);return Y=new Rt({props:{id:"active-scans",title:e[3].activeScans,subtitle:e[8].length>0?e[3].scansInProgress:e[9]?e[3].mostRecentScan:e[3].noScansYet,$$slots:{default:[Ua]},$$scope:{ctx:e}}}),Q=new Rt({props:{id:"targets",title:e[3].targets,subtitle:e[3].targetsSubtitle,$$slots:{default:[Ga]},$$scope:{ctx:e}}}),q=new Rt({props:{id:"stats",title:e[3].stats,subtitle:e[3].statsSubtitle,$$slots:{default:[Ya]},$$scope:{ctx:e}}}),J=new Rt({props:{id:"history",title:e[3].history,subtitle:e[3].historySubtitle,$$slots:{default:[$a]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment),l=g(),a=u("main"),s=u("section"),i=u("div"),r=u("p"),f=h(d),p=g(),v=u("h1"),_=h(m),P=g(),D=u("p"),A=h(C),F=g(),w=u("div"),b=u("button"),H=h(N),Z=g(),de&&de.c(),B=g(),z=u("div"),U=u("div"),E=h(O),R=g(),Pt(G.$$.fragment),W=g(),Pt(M.$$.fragment),y=g(),pe&&pe.c(),le=g(),Pt(Y.$$.fragment),K=g(),Pt(Q.$$.fragment),fe=g(),Pt(q.$$.fragment),oe=g(),Pt(J.$$.fragment),c(r,"class","eyebrow"),c(D,"class","lede"),c(b,"class","primary"),o(b,"font-size","1.1rem"),o(b,"padding","1rem 2rem"),o(b,"font-weight","600"),b.disabled=j=!e[10]||!e[12],c(w,"class","actions"),c(U,"class","card-title"),c(z,"class","card hero-card"),c(s,"id","dashboard"),c(s,"class","hero"),c(a,"class","page")},m(X,ne){wt(t,X,ne),k(X,l,ne),k(X,a,ne),n(a,s),n(s,i),n(i,r),n(r,f),n(i,p),n(i,v),n(v,_),n(i,P),n(i,D),n(D,A),n(i,F),n(i,w),n(w,b),n(b,H),n(w,Z),de&&de.m(w,null),n(s,B),n(s,z),n(z,U),n(U,E),n(z,R),wt(G,z,null),n(a,W),wt(M,a,null),n(a,y),pe&&pe.m(a,null),n(a,le),wt(Y,a,null),n(a,K),wt(Q,a,null),n(a,fe),wt(q,a,null),n(a,oe),wt(J,a,null),te=!0,Le||(ge=se(b,"click",e[64]),Le=!0)},p(X,ne){const Ne={};ne[0]&8&&(Ne.brand=X[3].brand),ne[1]&33554432&&(Ne.links=X[56]),ne[0]&1&&(Ne.currentLang=X[0]),t.$set(Ne),(!te||ne[0]&8)&&d!==(d=X[3].heroTagline+"")&&T(f,d),(!te||ne[0]&8)&&m!==(m=X[3].heroTitle+"")&&T(_,m),(!te||ne[0]&8)&&C!==(C=X[3].heroDescription+"")&&T(A,C),(!te||ne[0]&8)&&N!==(N=X[3].startScan+"")&&T(H,N),(!te||ne[0]&5168&&j!==(j=!X[10]||!X[12]))&&(b.disabled=j),!X[10]||!X[12]?de?de.p(X,ne):(de=gl(X),de.c(),de.m(w,null)):de&&(de.d(1),de=null),(!te||ne[0]&8)&&O!==(O=X[3].liveStatus+"")&&T(E,O);const x={};ne[0]&128&&(x.cards=X[7]),G.$set(x);const ae={};ne[0]&8&&(ae.title=X[3].scan),ne[0]&8&&(ae.subtitle=X[3].scanSubtitle),ne[0]&130110|ne[1]&3149792|ne[6]&8192&&(ae.$$scope={dirty:ne,ctx:X}),M.$set(ae),X[49]?pe?pe.p(X,ne):(pe=Bl(X),pe.c(),pe.m(a,le)):pe&&(pe.d(1),pe=null);const Ie={};ne[0]&8&&(Ie.title=X[3].activeScans),ne[0]&776&&(Ie.subtitle=X[8].length>0?X[3].scansInProgress:X[9]?X[3].mostRecentScan:X[3].noScansYet),ne[0]&808|ne[1]&16777216|ne[6]&8192&&(Ie.$$scope={dirty:ne,ctx:X}),Y.$set(Ie);const be={};ne[0]&8&&(be.title=X[3].targets),ne[0]&8&&(be.subtitle=X[3].targetsSubtitle),ne[0]&2147352616|ne[1]&4194335|ne[6]&8192&&(be.$$scope={dirty:ne,ctx:X}),Q.$set(be);const ke={};ne[0]&8&&(ke.title=X[3].stats),ne[0]&8&&(ke.subtitle=X[3].statsSubtitle),ne[0]&9|ne[1]&258048|ne[6]&8192&&(ke.$$scope={dirty:ne,ctx:X}),q.$set(ke);const we={};ne[0]&8&&(we.title=X[3].history),ne[0]&8&&(we.subtitle=X[3].historySubtitle),ne[0]&104|ne[1]&8388608|ne[6]&8192&&(we.$$scope={dirty:ne,ctx:X}),J.$set(we)},i(X){te||(_t(t.$$.fragment,X),_t(G.$$.fragment,X),_t(M.$$.fragment,X),_t(Y.$$.fragment,X),_t(Q.$$.fragment,X),_t(q.$$.fragment,X),_t(J.$$.fragment,X),te=!0)},o(X){mt(t.$$.fragment,X),mt(G.$$.fragment,X),mt(M.$$.fragment,X),mt(Y.$$.fragment,X),mt(Q.$$.fragment,X),mt(q.$$.fragment,X),mt(J.$$.fragment,X),te=!1},d(X){X&&(S(l),S(a)),kt(t,X),de&&de.d(),kt(G),kt(M),pe&&pe.d(),kt(Y),kt(Q),kt(q),kt(J),Le=!1,ge()}}}const Me="/api/v1";function ot(e){if(!e)return"Unknown Scanner";const t=e.match(/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})/),l=t?t[1]:"";if(e.includes("airscan:escl:")||e.includes("eSCL")){const s=e.split(":");if(s.length>=3){const i=s[2].replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase());return l?`${i} (${l})`:i}}if(e.includes("sane:")){const s=e.split(":");if(s.length>=2){const i=s[s.length-1].replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase());return l?`${i} (${l})`:i}}const a=e.replace(/^(airscan|sane|escl|net):/gi,"").replace(/https?:\/\/[^\s]+/g,"").replace(/[_:]/g," ").trim();return a&&l?`${a} (${l})`:a||(l?`Scanner (${l})`:e)}function Yt(e,t){var a;return((a={"Document @200 DPI (Small)":{de:"Dokument @200 DPI (Klein)"},"Multi-Page Document (ADF)":{de:"Mehrseitiges Dokument (ADF)"},"Color @300 DPI (Medium)":{de:"Farbe @300 DPI (Mittel)"},"Grayscale @150 DPI (Fast)":{de:"Graustufen @150 DPI (Schnell)"},"Photo @600 DPI (High Quality)":{de:"Foto @600 DPI (Hohe Qualit√§t)"}}[e])==null?void 0:a[t])||e}function nn(e,t){var a;return((a={"Best for text documents - smallest size":{de:"Ideal f√ºr Textdokumente - kleinste Dateigr√∂√üe"},"Scan multiple pages from document feeder":{de:"Mehrere Seiten aus Dokumenteneinzug scannen"},"Good quality for mixed content":{de:"Gute Qualit√§t f√ºr gemischte Inhalte"},"Quick scans, very small size":{de:"Schnelle Scans, sehr klein"},"Best quality for photos":{de:"Beste Qualit√§t f√ºr Fotos"}}[e])==null?void 0:a[t])||e}function ei(e){const t=new Date(e),l=new Date;return t.toDateString()===l.toDateString()}function ti(e,t,l){let a,s,i=localStorage.getItem("scan2target_lang")||"en";const r={en:{brand:"Scan2Target",dashboard:"Dashboard",scan:"Scan",activeScansMenu:"Active Scans",targets:"Targets",history:"History",heroTagline:"Linux ¬∑ FastAPI ¬∑ Svelte",heroTitle:"Central hub for scanning.",heroDescription:"Trigger scans on devices without physical buttons, and route files to SMB, email, Paperless-ngx, or webhooks.",startScan:"Start a scan",liveStatus:"Live status",scannersFound:"Scanners found",todayScans:"Today scans",completedToday:"Completed today",activeJobs:"Active jobs",inProgress:"In progress",configuredScanners:"Configured Scanners",loadingScanners:"‚è≥ Loading scanners...",noScannersConfigured:'No scanners configured. Click "Discover Scanners" below to add.',recommended:"‚≠ê Recommended",online:"online",offline:"offline",removeFavorite:"Remove from favorites",addFavorite:"Add to favorites",remove:"Remove",scannerManagement:"Scanner Management",scannerManagementDesc:"Discover and add USB/wireless scanners via SANE/eSCL. Scanners must be manually added - they are never added automatically.",discoverScanners:"Discover Scanners",searching:"Searching...",lastScan:"Last scan",clickRefresh:'Click "Discover" to refresh',discoveredScanners:"Discovered Scanners",alreadyAdded:"‚úì Already Added",notAddedYet:"Not Added Yet",addScanner:"Add Scanner",noScannersFound:"No scanners found. Make sure scanners are powered on and connected (USB or network).",addManualScanner:"Add Scanner Manually",manualScannerTitle:"Add Scanner via IP",scannerIP:"Scanner IP Address",scannerIPPlaceholder:"192.168.1.100",scannerPort:"Port (eSCL)",scannerPortPlaceholder:"8080",scannerNameOptional:"Scanner Name (optional)",scannerNamePlaceholder:"e.g. HP Office Scanner",addManual:"Add Scanner",cancel:"Cancel",quickProfiles:"Quick profiles",scanSubtitle:"Start server-side scans and route results to targets.",launchScan:"Launch a scan",chooseScanner:"Choose scanner",selectScanner:"-- Select scanner --",scanSource:"üÜï Scan Source",flatbed:"üìÑ Flatbed (single page)",adf:"üìö Document Feeder (ADF) - Multi-page",adfDesc:"ADF automatically scans all pages in the feeder",batchMode:"üìë Batch Mode (Multi-page)",batchModeDesc:"Scan multiple pages and combine into one PDF",batchModeActive:"üìë Batch Mode Active",addPage:"‚ûï Add Page",finishBatch:"‚úÖ Finish & Upload Batch",cancelBatch:"‚ùå Cancel Batch",pagesInBatch:"Pages in batch",scanningPage:"Scanning page",profile:"Profile",target:"Target",selectTarget:"-- Select target --",filename:"Filename (optional)",filenamePlaceholder:"e.g. invoice_2025",filenameDesc:"Leave empty for auto-generated name (scan_UUID)",startScanButton:"Start scan",activeScans:"Active Scans",scansInProgress:"Scans in progress",mostRecentScan:"Most recent scan",noScansYet:"No scans yet",noScansDesc:"No scans yet. Start your first scan above.",scanStatus:"Scan:",uploadStatus:"Upload:",queued:"‚è≥ Queued",running:"üîÑ Running",waiting:"‚è∏Ô∏è Waiting",done:"‚úÖ Done",completed:"completed",failed:"‚ùå Failed",skipped:"‚è∏Ô∏è Skipped",retry:"üîÑ Retry",device:"Device",started:"Started",completed:"Completed",deliveryTargets:"Delivery targets",loadingTargets:"‚è≥ Loading targets...",noTargetsConfigured:"No targets configured yet.",enabled:"Enabled",disabled:"Disabled",test:"üîç Test",addTarget:"Add target",type:"Type",name:"Name",namePlaceholder:"e.g. NAS scans",connection:"Connection",connectionPlaceholder:"//nas/share or URL",username:"Username",usernamePlaceholder:"Network username",password:"Password",passwordPlaceholder:"Network password",testAndSave:"Test & Save",saveWithoutTest:"Save without test",testSaveHint:'üí° "Test & Save" validates the connection before saving. Use "Save without test" if the server is temporarily offline.',remotePath:"Remote Path",remotePathPlaceholder:"/uploads/scans",remotePathDesc:"Directory on SFTP server where files will be uploaded",sftpHost:"SFTP Host",sftpHostPlaceholder:"server.example.com",sftpPort:"SFTP Port",sftpPortPlaceholder:"22",smtpHost:"SMTP Server",smtpHostPlaceholder:"smtp.gmail.com",smtpPort:"SMTP Port",smtpPortPlaceholder:"587",emailTo:"Recipient Email",emailToPlaceholder:"archive@example.com",emailFrom:"Sender Email (optional)",emailFromPlaceholder:"scanner@example.com",useTLS:"Use TLS/STARTTLS",apiToken:"API Token",apiTokenPlaceholder:"Your Paperless-ngx API token",webhookUrl:"Webhook URL",webhookUrlPlaceholder:"https://example.com/webhook",targetsSubtitle:"Destinations for scanned documents.",historySubtitle:"Recent scan and print jobs.",loadingHistory:"‚è≥ Loading history...",noJobsHistory:"No jobs in history yet.",id:"ID",time:"Time",status:"Status",uploadFailed:"‚ö†Ô∏è Upload failed",retryUpload:"üîÑ Retry Upload",pleaseSelectScanner:"‚ö†Ô∏è Please select a scanner below",pleaseSelectTarget:"‚ö†Ô∏è Please select a target below",stats:"Statistics",statsSubtitle:"Scan statistics and analytics.",overview:"Overview",totalScans:"Total Scans",successRate:"Success Rate",avgScansPerDay:"Avg Scans/Day",mostUsedScanner:"Most Used Scanner",mostUsedTarget:"Most Used Target",timeline:"Scan Timeline (Last 30 Days)",hourlyDistribution:"Scans by Hour of Day",scannerStats:"Scanner Statistics",targetStats:"Target Statistics",scans:"Scans",successful:"Successful",lastUsed:"Last Used",date:"Date",total:"Total",deliveriesLabel:"Deliveries",cancelJob:"Cancel",cancelJobConfirm:"Cancel this job?",jobCancelled:"Job cancelled successfully",cancelled:"Cancelled",clearHistory:"Clear History",clearHistoryConfirm:"Delete all completed jobs from history? This cannot be undone.",deleteJob:"Delete Job",deleteJobConfirm:"Delete this job from history?",jobDeleted:"Job deleted successfully",deleteTargetStats:"Delete Statistics",deleteTargetStatsConfirm:"Delete all statistics for this target? This will remove all delivery history but keep existing scan files.",targetStatsDeleted:"Target statistics deleted successfully",deliveries:"Deliveries",isLoadingHistory:"Loading history...",previewScan:"Preview Scan",previewing:"‚è≥ Previewing...",previewDesc:"Quick low-resolution preview before final scan",closePreview:"Close Preview",proceedToScan:"Proceed to Full Scan",cloudTarget:"Cloud Storage",googleDrive:"Google Drive",dropbox:"Dropbox",oneDrive:"OneDrive",nextcloud:"Nextcloud",accessToken:"Access Token",accessTokenPlaceholder:"Your OAuth2 access token",folderId:"Folder ID (optional)",folderIdPlaceholder:"Target folder ID",folderPath:"Folder Path",folderPathPlaceholder:"/Documents/Scans",webdavUrl:"WebDAV URL",webdavUrlPlaceholder:"https://cloud.example.com/remote.php/dav/files/username/",webdavPath:"Upload Path",webdavPathPlaceholder:"/Scans"},de:{brand:"Scan2Target",dashboard:"Dashboard",scan:"Scannen",activeScansMenu:"Aktive Scans",targets:"Ziele",history:"Verlauf",heroTagline:"Linux ¬∑ FastAPI ¬∑ Svelte",heroTitle:"Scan-Dashboard.",heroDescription:"Starten Sie Scans auf Ger√§ten ohne physische Tasten und leiten Sie Dateien an SMB, E-Mail, Paperless-ngx oder Webhooks weiter.",startScan:"Scan starten",liveStatus:"Live-Status",scannersFound:"Scanner gefunden",todayScans:"Heutige Scans",completedToday:"Heute abgeschlossen",activeJobs:"Aktive Auftr√§ge",inProgress:"In Bearbeitung",configuredScanners:"Konfigurierte Scanner",loadingScanners:"‚è≥ Scanner werden geladen...",noScannersConfigured:'Keine Scanner konfiguriert. Klicken Sie unten auf "Scanner suchen", um welche hinzuzuf√ºgen.',recommended:"‚≠ê Empfohlen",online:"online",offline:"offline",removeFavorite:"Aus Favoriten entfernen",addFavorite:"Zu Favoriten hinzuf√ºgen",remove:"Entfernen",scannerManagement:"Scanner-Verwaltung",scannerManagementDesc:"USB/WLAN-Scanner √ºber SANE/eSCL suchen und hinzuf√ºgen. Scanner m√ºssen manuell hinzugef√ºgt werden - sie werden nie automatisch hinzugef√ºgt.",discoverScanners:"Scanner suchen",searching:"Suche l√§uft...",lastScan:"Letzte Suche",clickRefresh:'Klicken Sie auf "Suchen", um zu aktualisieren',discoveredScanners:"Gefundene Scanner",alreadyAdded:"‚úì Bereits hinzugef√ºgt",notAddedYet:"Noch nicht hinzugef√ºgt",addScanner:"Scanner hinzuf√ºgen",noScannersFound:"Keine Scanner gefunden. Stellen Sie sicher, dass Scanner eingeschaltet und verbunden sind (USB oder Netzwerk).",addManualScanner:"Scanner manuell hinzuf√ºgen",manualScannerTitle:"Scanner via IP hinzuf√ºgen",scannerIP:"Scanner IP-Adresse",scannerIPPlaceholder:"192.168.1.100",scannerPort:"Port (eSCL)",scannerPortPlaceholder:"8080",scannerNameOptional:"Scanner-Name (optional)",scannerNamePlaceholder:"z.B. HP B√ºro-Scanner",addManual:"Scanner hinzuf√ºgen",cancel:"Abbrechen",quickProfiles:"Schnellprofile",scanSubtitle:"Starten Sie serverseitige Scans und leiten Sie Ergebnisse an Ziele weiter.",launchScan:"Scan starten",chooseScanner:"Scanner w√§hlen",selectScanner:"-- Scanner ausw√§hlen --",scanSource:"üÜï Scan-Quelle",flatbed:"üìÑ Flachbett (einzelne Seite)",adf:"üìö Dokumenteneinzug (ADF) - Mehrere Seiten",adfDesc:"ADF scannt automatisch alle Seiten im Einzug",batchMode:"üìë Stapel-Modus (Mehrseitig)",batchModeDesc:"Mehrere Seiten scannen und zu einer PDF zusammenf√ºhren",batchModeActive:"üìë Stapel-Modus aktiv",addPage:"‚ûï Seite hinzuf√ºgen",finishBatch:"‚úÖ Stapel abschlie√üen & hochladen",cancelBatch:"‚ùå Stapel abbrechen",pagesInBatch:"Seiten im Stapel",scanningPage:"Scanne Seite",profile:"Profil",target:"Ziel",selectTarget:"-- Ziel ausw√§hlen --",filename:"Dateiname (optional)",filenamePlaceholder:"z.B. rechnung_2025",filenameDesc:"Leer lassen f√ºr automatisch generierten Namen (scan_UUID)",startScanButton:"Scan starten",activeScans:"Aktive Scans",scansInProgress:"Scans werden ausgef√ºhrt",mostRecentScan:"Zuletzt gescannt",noScansYet:"Noch keine Scans",noScansDesc:"Noch keine Scans. Starten Sie Ihren ersten Scan oben.",scanStatus:"Scan:",uploadStatus:"Upload:",queued:"‚è≥ Warteschlange",running:"üîÑ L√§uft",waiting:"‚è∏Ô∏è Wartet",done:"‚úÖ Fertig",completed:"abgeschlossen",failed:"‚ùå Fehlgeschlagen",skipped:"‚è∏Ô∏è √úbersprungen",retry:"üîÑ Wiederholen",device:"Ger√§t",started:"Gestartet",completed:"Abgeschlossen",deliveryTargets:"Lieferziele",loadingTargets:"‚è≥ Ziele werden geladen...",noTargetsConfigured:"Noch keine Ziele konfiguriert.",enabled:"Aktiviert",disabled:"Deaktiviert",test:"üîç Testen",addTarget:"Ziel hinzuf√ºgen",type:"Typ",name:"Name",namePlaceholder:"z.B. NAS Scans",connection:"Verbindung",connectionPlaceholder:"//nas/freigabe oder URL",username:"Benutzername",usernamePlaceholder:"Netzwerk-Benutzername",password:"Passwort",passwordPlaceholder:"Netzwerk-Passwort",testAndSave:"Testen & Speichern",saveWithoutTest:"Ohne Test speichern",testSaveHint:'üí° "Testen & Speichern" validiert die Verbindung vor dem Speichern. Verwenden Sie "Ohne Test speichern", wenn der Server vor√ºbergehend offline ist.',remotePath:"Remote-Pfad",remotePathPlaceholder:"/uploads/scans",remotePathDesc:"Verzeichnis auf dem SFTP-Server, in das Dateien hochgeladen werden",sftpHost:"SFTP-Host",sftpHostPlaceholder:"server.beispiel.de",sftpPort:"SFTP-Port",sftpPortPlaceholder:"22",smtpHost:"SMTP-Server",smtpHostPlaceholder:"smtp.gmail.com",smtpPort:"SMTP-Port",smtpPortPlaceholder:"587",emailTo:"Empf√§nger-E-Mail",emailToPlaceholder:"archiv@beispiel.de",emailFrom:"Absender-E-Mail (optional)",emailFromPlaceholder:"scanner@beispiel.de",useTLS:"TLS/STARTTLS verwenden",apiToken:"API-Token",apiTokenPlaceholder:"Ihr Paperless-ngx API-Token",webhookUrl:"Webhook-URL",webhookUrlPlaceholder:"https://beispiel.de/webhook",targetsSubtitle:"Ziele f√ºr gescannte Dokumente.",historySubtitle:"Letzte Scan- und Druckauftr√§ge.",loadingHistory:"‚è≥ Verlauf wird geladen...",noJobsHistory:"Noch keine Auftr√§ge im Verlauf.",id:"ID",time:"Zeit",status:"Status",uploadFailed:"‚ö†Ô∏è Upload fehlgeschlagen",retryUpload:"üîÑ Upload wiederholen",pleaseSelectScanner:"‚ö†Ô∏è Bitte w√§hlen Sie unten einen Scanner aus",pleaseSelectTarget:"‚ö†Ô∏è Bitte w√§hlen Sie unten ein Ziel aus",stats:"Statistiken",statsSubtitle:"Scan-Statistiken und Analysen.",overview:"√úbersicht",totalScans:"Gesamte Scans",successRate:"Erfolgsrate",avgScansPerDay:"√ò Scans/Tag",mostUsedScanner:"Meist genutzter Scanner",mostUsedTarget:"Meist genutztes Ziel",timeline:"Scan-Verlauf (Letzte 30 Tage)",hourlyDistribution:"Scans nach Tageszeit",scannerStats:"Scanner-Statistiken",targetStats:"Ziel-Statistiken",scans:"Scans",successful:"Erfolgreich",lastUsed:"Zuletzt verwendet",date:"Datum",total:"Gesamt",deliveriesLabel:"Zustellungen",clearHistory:"Verlauf l√∂schen",clearHistoryConfirm:"Alle abgeschlossenen Auftr√§ge aus dem Verlauf l√∂schen? Dies kann nicht r√ºckg√§ngig gemacht werden.",deleteJob:"Auftrag l√∂schen",deleteJobConfirm:"Diesen Auftrag aus dem Verlauf l√∂schen?",jobDeleted:"Auftrag erfolgreich gel√∂scht",deleteTargetStats:"Statistiken l√∂schen",deleteTargetStatsConfirm:"Alle Statistiken f√ºr dieses Ziel l√∂schen? Dadurch wird der gesamte Zustellungsverlauf entfernt, aber vorhandene Scan-Dateien bleiben erhalten.",targetStatsDeleted:"Ziel-Statistiken erfolgreich gel√∂scht",deliveries:"Zustellungen",isLoadingHistory:"Verlauf wird geladen...",cancelJob:"Abbrechen",cancelJobConfirm:"Diesen Job wirklich abbrechen?",jobCancelled:"Job erfolgreich abgebrochen",cancelled:"Abgebrochen",previewScan:"Scan-Vorschau",previewing:"‚è≥ Vorschau l√§dt...",previewDesc:"Schnelle Vorschau in niedriger Aufl√∂sung vor dem finalen Scan",closePreview:"Vorschau schlie√üen",proceedToScan:"Zum vollst√§ndigen Scan",cloudTarget:"Cloud-Speicher",googleDrive:"Google Drive",dropbox:"Dropbox",oneDrive:"OneDrive",nextcloud:"Nextcloud",accessToken:"Zugangs-Token",accessTokenPlaceholder:"Ihr OAuth2 Zugangs-Token",folderId:"Ordner-ID (optional)",folderIdPlaceholder:"Zielordner-ID",folderPath:"Ordnerpfad",folderPathPlaceholder:"/Dokumente/Scans",webdavUrl:"WebDAV-URL",webdavUrlPlaceholder:"https://cloud.beispiel.de/remote.php/dav/files/benutzername/",webdavPath:"Upload-Pfad",webdavPathPlaceholder:"/Scans"}};function d(L){l(0,i=L),localStorage.setItem("scan2target_lang",L)}let f=[],p=[],v=[],m=[],_=[],P=null,D="",C="",A="",F="",w="Flatbed",b=!1,N=[],H=!1,j="SMB",Z="",B="",z="",U="",O="",E="22",R="/uploads/scans",G="",W="smtp.gmail.com",M="587",y="",le=!0,Y="",K="",Q="",fe="",q="",oe="",J=[],te=!1,Le=null,ge=!1,de="",pe="",X="8080",ne=null,Ne=[],x=[],ae=[],Ie=[],be=!0,ke=!1,we=null,je=!1,Ce=!0,ve=!0,ue=!0,me=null,Ae=null,re=null,Pe=null,ze=[{id:"color_300_pdf",name:"Color @300 DPI",description:"PDF to target"},{id:"gray_150_pdf",name:"Grayscale @150 DPI",description:"Lightweight PDF"},{id:"photo_600_jpeg",name:"Photo @600 DPI",description:"High quality JPEG"}];xn(()=>{const L=performance.now();console.log("[TIMING] Page load started"),Se(),window.location.hash&&setTimeout(()=>{const $=document.querySelector(window.location.hash);$&&$.scrollIntoView({behavior:"smooth",block:"start"})},200);const I=setInterval(()=>{!Ce&&!ve&&!ue&&(console.log(`[TIMING] Total page load: ${(performance.now()-L).toFixed(0)}ms`),clearInterval(I))},100);return ye(),at(),me=setInterval(at,1e4),()=>{me&&clearInterval(me),Pe&&clearTimeout(Pe),re&&re.close()}});function ye(){try{const I=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/v1/ws`;console.log("Connecting to WebSocket:",I),re=new WebSocket(I),re.onopen=()=>{console.log("‚úì WebSocket connected")},re.onmessage=ce=>{try{const Te=JSON.parse(ce.data);$e(Te)}catch(Te){console.error("WebSocket message error:",Te)}},re.onerror=ce=>{console.error("WebSocket error:",ce)},re.onclose=()=>{console.log("WebSocket disconnected, reconnecting in 5s..."),re=null,Pe=setTimeout(()=>{ye()},5e3)};const $=setInterval(()=>{re&&re.readyState===WebSocket.OPEN?re.send("ping"):clearInterval($)},3e4)}catch(L){console.error("Failed to connect WebSocket:",L)}}function $e(L){console.log("WebSocket message:",L),L.type==="job_update"?it(L.data):L.type==="scanner_update"?Re(L.data):L.type==="connected"&&console.log("WebSocket:",L.message)}async function it(L){console.log("Job update received:",L),await at(),(L.status==="completed"||L.status==="failed")&&await He(),updateStatCards()}function Re(L){console.log("Scanner update received:",L),Ue()}async function Se(){Ue(),rt(),_e(),await He(),Ye()}function De(){const L=Array(24).fill(0);v.forEach(I=>{if(I.job_type==="scan"&&I.created_at){const ce=new Date(I.created_at+"Z").getHours();L[ce]++}}),l(47,Ie=L.map((I,$)=>({hour:$,count:I})))}async function Ye(){l(48,be=!0);try{const[L,I,$,ce]=await Promise.all([fetch(`${Me}/stats/overview`),fetch(`${Me}/stats/timeline?days=30`),fetch(`${Me}/stats/scanners`),fetch(`${Me}/stats/targets`)]);L.ok&&l(43,ne=await L.json()),I.ok&&l(44,Ne=await I.json()),$.ok&&l(45,x=await $.json()),ce.ok&&l(46,ae=await ce.json()),De(),console.log("Stats loaded:",{statsOverview:ne,statsTimeline:Ne.length,hourlyCount:Ie.length})}catch(L){console.error("Failed to load stats:",L)}finally{l(48,be=!1)}}async function _e(){try{const L=await fetch(`${Me}/scan/profiles`);if(L.ok){const I=await L.json();l(2,ze=I.map($=>({id:$.id,nameOriginal:$.name||$.id,name:Yt($.name||$.id,i),descriptionOriginal:$.description||"",description:nn($.description||"",i),source:$.source||"Flatbed"}))),console.log("Loaded profiles from API:",ze.length)}}catch(L){console.error("Failed to load profiles:",L)}}async function Ue(){const L=performance.now();try{const I=await fetch(`${Me}/devices`);if(I.ok){const $=await I.json();l(4,f=$.filter(Te=>Te.device_type==="scanner"));const ce=f.find(Te=>Te.is_favorite);ce&&!D&&l(10,D=ce.id),Ut(),console.log(`[TIMING] loadDevices: ${(performance.now()-L).toFixed(0)}ms`)}}catch(I){console.error("Failed to load devices:",I)}finally{l(52,Ce=!1)}}async function rt(){const L=performance.now();try{const I=await fetch(`${Me}/targets`);if(I.ok){l(5,p=await I.json());const $=p.find(ce=>ce.is_favorite);$&&!A&&l(12,A=$.id),console.log(`[TIMING] loadTargets: ${(performance.now()-L).toFixed(0)}ms`)}}catch(I){console.error("Failed to load targets:",I)}finally{l(53,ve=!1)}}async function He(){const L=performance.now();try{const I=await fetch(`${Me}/history`);I.ok&&(l(6,v=await I.json()),Ut(),console.log(`[TIMING] loadHistory: ${(performance.now()-L).toFixed(0)}ms`))}catch(I){console.error("Failed to load history:",I)}finally{l(54,ue=!1)}}async function at(){try{const L=await fetch(`${Me}/history`);if(L.ok){const I=await L.json(),$=_.length;l(8,_=I.filter(ce=>ce.status==="queued"||ce.status==="running"));for(const ce of _)if(ce.status==="running")try{(await fetch(`/thumbnails/scan_${ce.id}_thumb.jpg`,{method:"HEAD"})).ok&&(ce.thumbnailUrl=`/thumbnails/scan_${ce.id}_thumb.jpg?t=${Date.now()}`)}catch{}if($>0&&_.length===0){const ce=I.find(Te=>Te.status==="completed");if(ce){try{(await fetch(`/thumbnails/scan_${ce.id}_thumb.jpg`,{method:"HEAD"})).ok&&(ce.thumbnailUrl=`/thumbnails/scan_${ce.id}_thumb.jpg?t=${Date.now()}`)}catch{}l(9,P=ce)}He()}_.length>0&&P&&l(9,P=null)}}catch(L){console.error("Failed to poll active jobs:",L)}}function Ut(){const L=v.filter($=>$.job_type==="scan"&&ei($.created_at)).length,I=v.filter($=>$.status==="queued"||$.status==="running").length;l(7,m=[{label:a.scannersFound,value:String(f.length).padStart(2,"0"),icon:"üìë",sub:"eSCL + SANE"},{label:a.todayScans,value:String(L),icon:"‚úÖ",sub:a.completedToday},{label:a.activeJobs,value:String(I).padStart(2,"0"),icon:"‚è≥",sub:a.inProgress}]),De()}async function Tt(){if(!D){alert(a.pleaseSelectScanner);return}l(51,je=!0),l(50,we=null),l(49,ke=!0);try{const L=await fetch(`${Me}/scan/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_id:D})});if(L.ok){const I=await L.json();l(50,we=I.image)}else{const I=await L.json();alert(`‚ùå Preview failed: ${I.detail||"Unknown error"}`),l(49,ke=!1)}}catch(L){console.error("Preview error:",L),alert(`‚ùå Preview failed: ${L.message}`),l(49,ke=!1)}finally{l(51,je=!1)}}function gt(){l(49,ke=!1),l(50,we=null)}async function zt(){if(!D){alert(a.pleaseSelectScanner);return}l(14,b=!0),l(15,N=[])}async function Ht(){if(!D||!C){alert(a.pleaseSelectScanner);return}l(16,H=!0);try{const L=await fetch(`${Me}/scan/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_id:D,profile_id:C})});if(L.ok){const I=await L.json();N.push({id:Date.now(),url:I.image,pageNumber:N.length+1}),alert(`‚úÖ ${a.scanningPage} ${N.length} ${a.done.toLowerCase()}`)}else{const I=await L.json();alert(`‚ùå ${I.detail||"Scan failed"}`)}}catch(L){console.error("Batch scan error:",L),alert(`‚ùå Error: ${L.message}`)}finally{l(16,H=!1)}}async function Be(){if(N.length===0){alert("No pages in batch");return}if(!A){alert(a.pleaseSelectTarget);return}try{const L=await fetch(`${Me}/scan/batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_id:D,profile_id:C||ze[0].id,target_id:A,filename_prefix:F||"batch_scan",page_urls:N.map(I=>I.url)})});if(L.ok){const I=await L.json();alert(`‚úÖ Batch scan started: ${N.length} pages combined into PDF`),l(14,b=!1),l(15,N=[]),await Se()}else{const I=await L.json();alert(`‚ùå ${I.detail||"Batch scan failed"}`)}}catch(L){console.error("Finish batch error:",L),alert(`‚ùå Error: ${L.message}`)}}function Dt(){confirm(`${a.cancelBatch}? ${N.length} ${a.pagesInBatch.toLowerCase()}`)&&(l(14,b=!1),l(15,N=[]))}async function Et(){if(!D){alert("Please select a scanner");return}if(!C){alert("Please select a scan profile");return}if(!A){alert("Please select a target");return}try{const L=await fetch(`${Me}/scan/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_id:D,profile_id:C||ze[0].id,target_id:A,filename_prefix:F||"scan"})});if(L.ok)ke&&gt(),await Se(),alert("‚úÖ Scan started successfully");else{const I=await L.json().catch(()=>({detail:"Unknown error"}));alert(`‚ùå Failed to start scan: ${I.detail||L.statusText}`)}}catch(L){console.error("Scan error:",L),alert(`‚ùå Failed to start scan: ${L.message}`)}}async function st(L=!1){if(!Z){alert("Please enter a target name");return}const I={};if(j==="SMB"){if(!B||!z){alert("Please fill in connection and username for SMB");return}if(!B.startsWith("//")&&!B.startsWith("\\\\")&&!confirm(`‚ö†Ô∏è Warning: SMB connection should start with // or \\\\

Current: ${B}
Suggested: //${B}

Continue anyway? (Not recommended)`))return;I.connection=B,I.username=z,I.password=U}else if(j==="SFTP"){if(!O||!z){alert("Please fill in SFTP host and username");return}I.connection=`${z}@${O}`,I.host=O,I.port=parseInt(E)||22,I.username=z,I.password=U,I.remote_path=R||"/uploads/scans"}else if(j==="Email"){if(!G||!W){alert("Please fill in recipient email and SMTP host");return}I.connection=G,I.smtp_host=W,I.smtp_port=parseInt(M)||587,I.username=z,I.password=U,y&&(I.from=y),I.use_tls=le}else if(j==="Paperless-ngx"){if(!B||!Y){alert("Please fill in URL and API token");return}I.connection=B,I.api_token=Y}else if(j==="Webhook"){if(!B){alert("Please enter webhook URL");return}I.connection=B}else if(j==="Google Drive"||j==="Dropbox"||j==="OneDrive"){if(!K){alert("Please enter access token");return}I.access_token=K,Q&&(I.folder_id=Q),fe&&(I.folder_path=fe),I.connection=fe||Q||"/"}else if(j==="Nextcloud"){if(!q||!z||!U){alert("Please fill in WebDAV URL, username and password");return}I.webdav_url=q,I.username=z,I.password=U,I.upload_path=oe||"/Scans",I.connection=q}const $={id:`target_${Date.now()}`,type:j,name:Z,config:I,enabled:!0,description:null,is_favorite:!1};console.log("Saving target:",$),console.log("Skip validation:",L);try{const ce=L?`${Me}/targets?validate=false`:`${Me}/targets`,Te=await fetch(ce,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(Te.ok)alert(L?"‚úÖ Target gespeichert (ohne Test)":"‚úÖ Verbindungstest erfolgreich - Target gespeichert"),l(18,Z=""),l(19,B=""),l(20,z=""),l(21,U=""),l(22,O=""),l(23,E="22"),l(24,R="/uploads/scans"),l(25,G=""),l(26,W="smtp.gmail.com"),l(27,M="587"),l(28,y=""),l(29,le=!0),l(30,Y=""),l(31,K=""),l(32,Q=""),l(33,fe=""),l(34,q=""),l(35,oe=""),await rt();else{const lt=await Te.json().catch(()=>({detail:"Unknown error"}));console.error("Failed to save target:",Te.status,lt);const Vt=lt.detail||Te.statusText||"Unknown error";alert(`${L?"‚ùå Fehler beim Speichern":"‚ùå Verbindungstest fehlgeschlagen"}:

${Vt}`)}}catch(ce){console.error("Save target error:",ce),alert(`‚ùå Fehler: ${ce.message}`)}}async function vt(L,I){try{const $=p.find(Te=>Te.id===L);if(!$)return;(await fetch(`${Me}/targets/${L}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...$,is_favorite:I})})).ok?await rt():alert("Failed to update favorite")}catch($){console.error("Toggle favorite error:",$),alert("Failed to update favorite")}}async function Ct(L,I){try{const $=encodeURIComponent(L),ce=await fetch(`${Me}/devices/${$}/favorite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_favorite:I})});if(ce.ok)await Ue();else{const Te=await ce.json().catch(()=>({}));console.error("Failed to update favorite:",Te),alert("Failed to update favorite")}}catch($){console.error("Toggle device favorite error:",$),alert("Failed to update favorite")}}async function Mt(L){const I=p.find(Te=>Te.id===L);if(!I)return;const $=event.target,ce=$.textContent;$.textContent="‚è≥ Testing...",$.disabled=!0;try{const lt=await(await fetch(`${Me}/targets/${L}/test`,{method:"POST"})).json();lt.status==="ok"?alert(`‚úÖ Connection successful!

Target: ${I.name}
Type: ${I.type}`):alert(`‚ùå Connection failed

${lt.message||"Unable to connect to target"}`)}catch(Te){console.error("Test target error:",Te),alert(`‚ùå Test failed: ${Te.message}`)}finally{$.textContent=ce,$.disabled=!1}}async function bt(L){const I=v.find($=>$.id===L);if(I&&confirm(`Retry upload for job ${L.slice(0,8)}?

Target: ${I.target_id}`))try{const $=await fetch(`${Me}/history/${L}/retry-upload`,{method:"POST"});if($.ok){const ce=await $.json();alert(`‚úÖ ${ce.message}`),await He()}else{const ce=await $.json();alert(`‚ùå Retry failed

${ce.detail||"Unknown error"}`)}}catch($){console.error("Retry upload error:",$),alert(`‚ùå Retry failed: ${$.message}`)}}async function yt(){if(confirm(a.clearHistoryConfirm))try{const L=await fetch(`${Me}/history`,{method:"DELETE"});if(L.ok){const I=await L.json();alert(`‚úÖ ${I.deleted_count} ${i==="de"?"Auftr√§ge gel√∂scht":"jobs deleted"}`),await He(),await Ye()}else{const I=await L.json();alert(`‚ùå ${I.detail||"Failed to clear history"}`)}}catch(L){console.error("Clear history error:",L),alert(`‚ùå Error: ${L.message}`)}}async function It(L){if(confirm(a.cancelJobConfirm))try{const I=await fetch(`${Me}/history/${L}/cancel`,{method:"POST"});if(I.ok)alert(`‚úÖ ${a.jobCancelled}`),await at(),await He();else{const $=await I.json();alert(`‚ùå ${$.detail||"Failed to cancel job"}`)}}catch(I){console.error("Cancel job error:",I),alert(`‚ùå Error: ${I.message}`)}}async function At(L){if(confirm(a.deleteJobConfirm))try{const I=await fetch(`${Me}/history/${L}`,{method:"DELETE"});if(I.ok)alert(`‚úÖ ${a.jobDeleted}`),await He(),await Ye();else{const $=await I.json();alert(`‚ùå ${$.detail||"Failed to delete job"}`)}}catch(I){console.error("Delete job error:",I),alert(`‚ùå Error: ${I.message}`)}}async function St(L){if(confirm(a.deleteTargetStatsConfirm))try{const I=await fetch(`${Me}/stats/targets/${encodeURIComponent(L)}`,{method:"DELETE"});if(I.ok){const $=await I.json();alert(`‚úÖ ${a.targetStatsDeleted} (${$.deleted_count} ${i==="de"?"Eintr√§ge gel√∂scht":"entries deleted"})`),await Ye()}else{const $=await I.json();alert(`‚ùå ${$.detail||"Failed to delete target statistics"}`)}}catch(I){console.error("Delete target stats error:",I),alert(`‚ùå Error: ${I.message}`)}}async function xe(L){const I=p.find(ce=>ce.id===L),$=I?I.name:L;if(confirm(`Target "${$}" wirklich entfernen?`))try{const ce=await fetch(`${Me}/targets/${L}`,{method:"DELETE"});if(ce.ok)l(5,p=p.filter(Te=>Te.id!==L)),l(46,ae=ae.filter(Te=>Te.target!==$&&Te.target!==L)),alert("‚úÖ Target erfolgreich entfernt"),await Ye();else{const Te=await ce.json().catch(()=>({detail:"Unknown error"}));alert(`‚ùå Fehler beim Entfernen: ${Te.detail||ce.statusText}`)}}catch(ce){console.error("Remove target error:",ce),alert(`‚ùå Fehler beim Entfernen: ${ce.message}`)}}async function Oe(L,I){const $=I==="printer"?"printer":"scanner";if(confirm(`Remove ${$} "${L}"?`))try{const ce=await fetch(`${Me}/devices/${L}`,{method:"DELETE"});if(ce.ok)alert(`‚úÖ ${$.charAt(0).toUpperCase()+$.slice(1)} removed successfully`),await Ue();else{const Te=await ce.json().catch(()=>({detail:"Unknown error"}));alert(`‚ùå Failed to remove ${$}: ${Te.detail||ce.statusText}`)}}catch(ce){console.error(`Remove ${$} error:`,ce),alert(`‚ùå Failed to remove ${$}: ${ce.message}`)}}async function Je(){l(37,te=!0);try{const L=await fetch(`${Me}/devices/discover`);if(L.ok){const I=await L.json();l(36,J=I.filter($=>$.device_type==="scanner")),l(38,Le=new Date),console.log("Discovery complete:",J.length,"scanners found")}else{const I=await L.json().catch(()=>({detail:"Unknown error"}));alert(`Failed to discover scanners: ${I.detail||L.statusText}`)}}catch(L){console.error("Discovery error:",L),alert(`Failed to discover scanners: ${L.message}`)}finally{l(37,te=!1)}}async function jt(L){try{const I=await fetch(`${Me}/devices/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uri:L.uri,name:L.name,device_type:"scanner",make:L.make,model:L.model,connection_type:L.connection_type,description:`${L.connection_type} - ${L.model||L.name}`})});if(I.ok)await Se(),await Je(),alert(`‚úÖ Scanner "${L.name}" added successfully`);else{const $=await I.json();alert(`‚ùå Failed to add scanner: ${$.detail||"Unknown error"}`)}}catch(I){console.error("Add scanner error:",I),alert(`‚ùå Failed to add scanner: ${I.message||"Network error"}`)}}async function ut(){if(!de){alert(i==="de"?"Bitte IP-Adresse eingeben":"Please enter IP address");return}if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(de)){alert(i==="de"?"Ung√ºltige IP-Adresse":"Invalid IP address");return}const I=X||"8080",$=`http://${de}:${I}/eSCL/`,ce=pe||`Scanner ${de}`,Te=`airscan:escl:${ce.replace(/\s+/g,"_")}:${$}`;try{const lt=await fetch(`${Me}/devices/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uri:Te,name:ce,device_type:"scanner",make:"Manual",model:ce,connection_type:"eSCL (Network)",description:`Manual eSCL scanner at ${de}:${I}`})});if(lt.ok)alert(`‚úÖ Scanner "${ce}" ${i==="de"?"erfolgreich hinzugef√ºgt":"added successfully"}`),l(40,de=""),l(41,pe=""),l(42,X="8080"),l(39,ge=!1),await Se();else{const Vt=await lt.json();alert(`‚ùå ${i==="de"?"Fehler beim Hinzuf√ºgen":"Failed to add scanner"}: ${Vt.detail||"Unknown error"}`)}}catch(lt){console.error("Add manual scanner error:",lt),alert(`‚ùå ${i==="de"?"Fehler beim Hinzuf√ºgen":"Failed to add scanner"}: ${lt.message||"Network error"}`)}}function Qe(L){ta.call(this,e,L)}const ct=L=>Ct(L.id,!L.is_favorite),We=L=>Oe(L.id,"scanner"),ft=()=>l(39,ge=!ge);function Ge(){de=this.value,l(40,de)}function dt(){X=this.value,l(42,X)}function Ze(){pe=this.value,l(41,pe)}const pt=L=>jt(L);function Ve(){D=Lt(this),l(10,D),l(4,f)}function Ot(){w=Lt(this),l(1,w)}const Ft=L=>L.source===w;function tt(){C=Lt(this),l(11,C),l(1,w),l(2,ze),l(0,i),l(2,ze),l(0,i),l(1,w)}function Ke(){A=Lt(this),l(12,A),l(5,p)}function V(){F=this.value,l(13,F)}const he=L=>l(55,Ae=Ae===L.id?null:L.id),ie=(L,I)=>I.id===L.target_id,et=L=>It(L.id),an=()=>l(55,Ae=Ae===P.id?null:P.id),sn=()=>bt(P.id),on=L=>L.id===P.target_id,rn=()=>At(P.id),un=L=>Mt(L.id),cn=L=>vt(L.id,!L.is_favorite),fn=L=>xe(L.id);function dn(){j=Lt(this),l(17,j)}function pn(){Z=this.value,l(18,Z)}function mn(){B=this.value,l(19,B)}function _n(){z=this.value,l(20,z)}function hn(){U=this.value,l(21,U)}function gn(){O=this.value,l(22,O)}function vn(){E=Jt(this.value),l(23,E)}function bn(){z=this.value,l(20,z)}function Sn(){U=this.value,l(21,U)}function kn(){R=this.value,l(24,R)}function wn(){G=this.value,l(25,G)}function Pn(){W=this.value,l(26,W)}function Tn(){M=Jt(this.value),l(27,M)}function Dn(){z=this.value,l(20,z)}function Cn(){U=this.value,l(21,U)}function An(){y=this.value,l(28,y)}function Fn(){le=this.checked,l(29,le)}function Ln(){B=this.value,l(19,B)}function Nn(){Y=this.value,l(30,Y)}function Un(){B=this.value,l(19,B)}function zn(){K=this.value,l(31,K)}function Mn(){Q=this.value,l(32,Q)}function yn(){K=this.value,l(31,K)}function In(){fe=this.value,l(33,fe)}function jn(){K=this.value,l(31,K)}function Rn(){fe=this.value,l(33,fe)}function Bn(){q=this.value,l(34,q)}function Hn(){z=this.value,l(20,z)}function En(){U=this.value,l(21,U)}function On(){oe=this.value,l(35,oe)}const Jn=()=>st(!1),Wn=()=>st(!0),Gn=L=>St(L.target),Zn=(L,I)=>I.id===L.target_id,Vn=L=>bt(L.id),qn=L=>At(L.id);return e.$$.update=()=>{if(e.$$.dirty[0]&1&&l(3,a=r[i]),e.$$.dirty[0]&5&&ze.length>0&&i&&l(2,ze=ze.map(L=>({...L,name:Yt(L.nameOriginal,i),description:nn(L.descriptionOriginal,i)}))),e.$$.dirty[0]&5&&ze.length>0&&i&&l(2,ze=ze.map(L=>({...L,name:Yt(L.nameOriginal||L.name,i)}))),e.$$.dirty[0]&6&&w){const L=ze.filter(I=>I.source===w);if(L.length>0)if(w==="ADF"){const I=L.find($=>$.id.includes("multipage")||$.name.toLowerCase().includes("multi"));l(11,C=I?I.id:L[0].id)}else{const I=L.find($=>$.id.includes("200")||$.name.toLowerCase().includes("200"));l(11,C=I?I.id:L[0].id)}}e.$$.dirty[0]&8&&l(56,s=[{label:a.dashboard,href:"#dashboard"},{label:a.scan,href:"#scan"},{label:a.activeScansMenu,href:"#active-scans"},{label:a.targets,href:"#targets"},{label:a.stats,href:"#stats"},{label:a.history,href:"#history"}])},[i,w,ze,a,f,p,v,m,_,P,D,C,A,F,b,N,H,j,Z,B,z,U,O,E,R,G,W,M,y,le,Y,K,Q,fe,q,oe,J,te,Le,ge,de,pe,X,ne,Ne,x,ae,Ie,be,ke,we,je,Ce,ve,ue,Ae,s,d,Tt,gt,zt,Ht,Be,Dt,Et,st,vt,Ct,Mt,bt,yt,It,At,St,xe,Oe,Je,jt,ut,Qe,ct,We,ft,Ge,dt,Ze,pt,Ve,Ot,Ft,tt,Ke,V,he,ie,et,an,sn,on,rn,un,cn,fn,dn,pn,mn,_n,hn,gn,vn,bn,Sn,kn,wn,Pn,Tn,Dn,Cn,An,Fn,Ln,Nn,Un,zn,Mn,yn,In,jn,Rn,Bn,Hn,En,On,Jn,Wn,Gn,Zn,Vn,qn]}class li extends Wt{constructor(t){super(),Gt(this,t,ti,xa,Zt,{},null,[-1,-1,-1,-1,-1,-1,-1])}}new li({target:document.getElementById("app")});
